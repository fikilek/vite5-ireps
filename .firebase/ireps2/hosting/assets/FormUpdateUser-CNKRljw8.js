import{X as b,y as v,am as N,an as n,r as w,a9 as C,j as e,ab as E,ad as q,ae as y,af as k,ap as U,ah as m,aq as M,aj as P,as as R,at as $}from"./index-BVpXZ-6-.js";import{u as B}from"./useSignup-P27cHIKW.js";const W=u=>{const{surname:a,name:t,nickName:D,companyName:L,workbase:l}=u.formData,{serviceProviders:V,getSpClients:d,getSpDetailsFromSpName:p,getSpClientsFromName:x}=b(),{getCustomError:f}=R(),{updateUser:j,signupState:s}=B(),{closeModal:i}=v(),h=r=>{const o=$(r);j(o)},S=N({surname:n().required("Surname is required."),name:n().required("required."),workbase:n().required("Workbase is required")});return w.useEffect(()=>{s.success&&(i(),C.success(`User "${a} ${t}" succesfully updated on iREPS`,{position:"bottom-left"}))},[s.success,i,a,t]),e.jsx("div",{className:"form-wrapper",children:e.jsx("div",{className:"form-container update-user",children:e.jsx(E,{initialValues:{surname:a,name:t,workbase:l},onSubmit:h,validationSchema:S,children:r=>{const o=p(r.values.companyName);let c=d(o);return c.find(F=>{const g=F.key.toLowerCase().trim();return new RegExp("rste","gi").test(g)})&&(c=x("rste")),e.jsx(e.Fragment,{children:e.jsxs(q,{children:[e.jsx(y,{hl1:"Update User Info",hr1:e.jsx("p",{}),children:e.jsx(k,{})}),e.jsx(U,{msg:"Complete the fields below and submit to update user info on iREPS."}),e.jsx("div",{className:"updateuser-form",children:e.jsxs("div",{className:"form-row",children:[e.jsx(m,{control:"input",type:"text",label:"Surname",name:"surname",placeholder:"",autoFocus:!0}),e.jsx(m,{control:"input",type:"text",label:"Name",name:"name",placeholder:""})]})}),s.error&&e.jsx(M,{errorMsg:f(s.error)}),e.jsx(P,{formik:r,signState:s})]})})}})})})};export{W as default};
