import{N as g,u as j,r as d,J as E,an as F,ao as n,B as W,j as e,ac as q,ae as v,af as D,ag as N,aq as S,ai as i,ar as U,ak as C}from"./index-6XIBjwph.js";import{u as M}from"./useSignup-DzZSouOZ.js";try{let r=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},s=new r.Error().stack;s&&(r._sentryDebugIds=r._sentryDebugIds||{},r._sentryDebugIds[s]="6b1b14f4-10d8-4bf1-ad16-b01f2de572b3",r._sentryDebugIdIdentifier="sentry-dbid-6b1b14f4-10d8-4bf1-ad16-b01f2de572b3")}catch{}const P=r=>{var m;const{response:s,getDocument:p}=g("users"),{user:l}=j(),{uid:c}=l,[a,w]=d.useState(null);let u=[{key:"choose",value:"choose"}];a!=null&&a.workbases&&((m=a==null?void 0:a.workbases)==null||m.map(o=>{u.push({key:o,value:o})}));const{closeModal:b}=E(),{formData:f}=r,{updateUserWorkbase:k,signupState:t}=M(),h={newWorkbase:f,workbase:f,password:""},x=o=>{k(o)},y=F({newWorkbase:n().required("Workbase is required."),workbase:n().required("Workbase is required."),password:n().required("Password is required.")});return d.useEffect(()=>{t.success&&(b(),W.success(`User workbase for "${l.displayName}", succesfully updated.`,{position:"bottom-left"}))},[t.success,b]),d.useEffect(()=>{s.success&&(s==null||s.document,w(s==null?void 0:s.document))},[s.success]),d.useEffect(()=>{p(c)},[c]),e.jsx("div",{className:"form-wrapper",children:e.jsx("div",{className:"form-container edit-user-workbase",children:e.jsx(q,{initialValues:h,onSubmit:x,validationSchema:y,children:o=>e.jsx(e.Fragment,{children:e.jsxs(v,{children:[e.jsx(D,{hl1:"Edit User Workbase",hr1:e.jsx("p",{}),children:e.jsx(N,{})}),e.jsx(S,{msg:"Enter the new workbase on the 'workbase' field below and submit."}),e.jsxs("div",{className:"edit-workbase-form",children:[e.jsx(i,{control:"input",type:"text",label:"Old Workbase",name:"workbase",placeholder:"",readOnly:!0}),e.jsx(i,{control:"select",type:"text",label:"New Workbase",name:"newWorkbase",placeholder:"",options:u}),e.jsx(i,{control:"inputPwd",type:"password",label:"Password",name:"password",placeholder:"",autoComplete:"user password"})]}),t.error&&e.jsx(U,{errorMsg:t.error}),e.jsx(C,{formik:o,signState:t})]})})})})})};export{P as default};
//# sourceMappingURL=FormEditUserWorkbase-Bm2ctuFq.js.map
