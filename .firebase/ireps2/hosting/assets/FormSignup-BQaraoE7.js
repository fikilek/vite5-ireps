import{J as p,u as h,an as f,ao as a,ap as b,r as x,B as w,j as e,ac as g,ae as j,af as y,ag as N,aq as F,ai as o,ar as q,ak as S,as as C,at as E,au as P}from"./index-6XIBjwph.js";import{a as v}from"./index-DhcEzU1z.js";import{u as k}from"./useSignup-DzZSouOZ.js";try{let s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},i=new s.Error().stack;i&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[i]="17bc35b4-3078-41b7-a782-8d43203c1014",s._sentryDebugIdIdentifier="sentry-dbid-17bc35b4-3078-41b7-a782-8d43203c1014")}catch{}const M=()=>{const{getCustomError:s}=E(),{signup:i,signupState:n}=k(),{closeModal:l}=p(),{user:r}=h()||{},c={surname:"",name:"",password:"",confirmPassword:"",email:"",phoneNumber:"+27",workbase:"workbase"},d=t=>{console.log("Form values",t);const u=P(t);i(u)},m=f({surname:a().required("required."),name:a().required("required."),email:a().email("Email is NOT valid.").required("required."),password:a().min(6,"At least 6 characters").required("required."),confirmPassword:a().oneOf([b("password"),null],"must match").required("required."),phoneNumber:a().min(10,"At least 10 characters").required("required.")});return x.useEffect(()=>{n.success&&(l(),w.success(`User "${r==null?void 0:r.displayName}" successfully signed up with iREPS`,{position:"bottom-left"}))},[n.success,l,r==null?void 0:r.displayName]),e.jsx("div",{className:"form-wrapper",children:e.jsx("div",{className:"form-container signup",children:e.jsx(g,{initialValues:c,onSubmit:d,validationSchema:m,enableReinitialize:!0,children:t=>e.jsx(e.Fragment,{children:e.jsxs(j,{children:[e.jsx(y,{hl1:"Singup/Register",hr1:e.jsx("p",{}),children:e.jsx(N,{})}),e.jsx(F,{msg:"Complete the fields below so as to gain access to iREPS."}),e.jsxs("div",{className:"signup-form",children:[e.jsxs("div",{className:"form-row-2col",children:[e.jsx(o,{control:"input",type:"text",label:"Surname",name:"surname",placeholder:"",autoFocus:!0}),e.jsx(o,{control:"input",type:"text",label:"Name",name:"name",placeholder:""})]}),e.jsxs("div",{className:"form-row-2col",children:[e.jsx(o,{control:"inputPwd",type:"password",label:"Pwd",name:"password",placeholder:"",autoComplete:"user password"}),e.jsx(o,{control:"inputPwd",type:"password",label:"Confirm Pwd",name:"confirmPassword",placeholder:"",autoComplete:"Confirm password"})]}),e.jsx("div",{className:"form-row-1col",children:e.jsx(o,{control:"input",type:"email",label:"Email",name:"email",placeholder:""})}),e.jsx("div",{className:"form-row-1col phoneNumber",children:e.jsx(o,{control:"phoneNumberInput",type:"text",label:"Phone No",name:"phoneNumber",placeholder:""})})]}),n.error&&e.jsx(q,{errorMsg:s(n.error)}),e.jsx(S,{formik:t,signState:n,children:e.jsx(C,{icon:e.jsx(v,{}),title:"Signin",linkName:"signin"})})]})})})})})};export{M as default};
//# sourceMappingURL=FormSignup-BQaraoE7.js.map
