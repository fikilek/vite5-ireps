import{u as P,J as v,an as a,ao as d,aw as w,r as F,B as S,j as e,ac as l,ae as c,af as E,ag as I,aq as m,ai as i,ar as u,ak as h}from"./index-B2W70YXr.js";import{u as q}from"./useSignup-DZGJRi-w.js";try{let r=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},o=new r.Error().stack;o&&(r._sentryDebugIds=r._sentryDebugIds||{},r._sentryDebugIds[o]="558cef63-a0d4-4676-94dd-5228c0842c34",r._sentryDebugIdIdentifier="sentry-dbid-558cef63-a0d4-4676-94dd-5228c0842c34")}catch{}const T=r=>{const{user:o}=P(),{closeModal:t}=v();r.formData;const{signupWithPhoneNumber:p,signupWithPhoneOtp:x,signupState:s}=q(),b={newPhoneNumber:"+16505551122",phoneNumber:"+16505551122"},f=a({newPhoneNumber:d().required("phone number is required."),phoneNumber:d().required("phone number is required.")}),j=n=>{p(n)},g={otp:""},N=a({otp:w().required("otp is required.")}),y=n=>{console.log("Form otp values",n),x(n)};return F.useEffect(()=>{s.success&&(t(),S.success(`User email for "${o.displayName}", succesfully updated on iREPS`,{position:"bottom-left"}))},[s==null?void 0:s.success,t,o==null?void 0:o.displayName]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"form-wrapper",children:e.jsx("div",{className:"form-container edit-user-phoneNumber",children:e.jsx(l,{initialValues:b,onSubmit:j,validationSchema:f,children:n=>e.jsxs(e.Fragment,{children:[e.jsxs(c,{children:[e.jsx(E,{hl1:"Verifiy Cell No",hr1:e.jsx("p",{}),children:e.jsx(I,{})}),e.jsxs("div",{className:"phone-no",children:[e.jsx(m,{msg:"Click SUBMIT to send a pin to the phone number. (Edit the phone number if necessary)"}),e.jsxs("div",{className:"edit-email-form",children:[e.jsx(i,{control:"phoneNumberInput",type:"hidden",label:"Existing Phone Number",name:"phoneNumber",placeholder:"",hide:"hide"}),e.jsx(i,{control:"phoneNumberInput",type:"text",label:"Phone Number",name:"newPhoneNumber",placeholder:""})]}),s.error&&e.jsx(u,{errorMsg:s.error}),e.jsx(h,{formik:n,isPending:s.isPending})]})]}),e.jsx("div",{id:"recaptcha-container"})]})})})}),s.otpSent&&e.jsx("div",{className:"form-wrapper",children:e.jsx("div",{className:"form-container edit-user-email",children:e.jsx(l,{initialValues:g,onSubmit:y,validationSchema:N,children:n=>e.jsx(e.Fragment,{children:e.jsx(c,{children:e.jsxs("div",{className:"otp",children:[e.jsx(m,{msg:"OTP sent succesfully. Enter the pin number on the OTP fields below and submit."}),e.jsx("div",{className:"edit-email-form",children:e.jsx(i,{control:"input",type:"text",label:"One Time Pin",name:"otp",placeholder:""})}),s.error&&e.jsx(u,{errorMsg:s.error}),e.jsx(h,{formik:n,signState:s.isPending})]})})})})})})]})};export{T as default};
//# sourceMappingURL=FormPhoneNoAuth-aSHa44aQ.js.map
