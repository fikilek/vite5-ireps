import{r as o,aa as S,d as b,f as j,j as E}from"./index-BVpXZ-6-.js";import{I}from"./IwShowOnMap-liOwjgJv.js";import"./MapWardErfsBoundaries-CO4ovlHu.js";import"./useIrepsMap-AiPksRtQ.js";import"./useTrns-DpaN4G00.js";import"./IwTrnsOnAst-DHsOUCGU.js";import"./ag-theme-quartz-BoQ7dcrN.js";import"./IrepsInfoWindow-0zarQW9t.js";import"./FormErf-BVXh7lIg.js";import"./index.esm-B94ZFrrH.js";const M=(a,r)=>{const[l,n]=o.useState(null),[d,u]=o.useState(null);return o.useEffect(()=>{let t=null;if(!r)return;const c=S(b,a,r);return t=j(c,s=>{n({...s.data(),id:s.id})},s=>{console.log("document fetch error",s.message),u("Failed to get document",r)}),()=>{t&&t()}},[r,a]),{error:d,document:l}},y=a=>{var m,f,i;const{erfId:r,address:l}=a.data.data.erf,{erf:n}=a.data.data,{lmMetro:d,ward:u}=l,[t,c]=o.useState({}),{error:s,document:e}=M("erfs",r);return o.useEffect(()=>{var p,x,h,w;c({point:{lat:(x=(p=e==null?void 0:e.address)==null?void 0:p.gps)==null?void 0:x.latitude,lng:(w=(h=e==null?void 0:e.address)==null?void 0:h.gps)==null?void 0:w.longitude},label:e==null?void 0:e.erfNo})},[e]),E.jsx("div",{className:"show-on-map",children:((m=t==null?void 0:t.point)==null?void 0:m.lat)&&E.jsx(I,{lat:(f=t==null?void 0:t.point)==null?void 0:f.lat,lng:(i=t==null?void 0:t.point)==null?void 0:i.lng,label:t==null?void 0:t.label,ward:u,lmMetro:d,erf:n})})};export{y as default};
