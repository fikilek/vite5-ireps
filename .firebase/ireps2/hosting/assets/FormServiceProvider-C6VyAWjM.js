import{r as b,X as $,B as g,D as S,am as F,an as A,a9 as E,j as e,ab as k,ad as D,ae as T,af as M,ah as s,ax as p,aq as R,aj as q}from"./index-2DC40iBv.js";const V=v=>{const[n,N]=b.useState("main"),{serviceProviders:f,getSpDetails:x,getSpClients:h}=$(),{formData:y}=v,{addDocument:w,updateDocument:C,response:c}=g("serviceProviders"),{closeModal:j}=S(),O=r=>{const{id:m}=r;m?C(r,m):w(r)},P=F({registeredName:A().required("required.")});b.useEffect(()=>{c.success&&(j(),E.success("document succesfully added/updated",{position:"bottom-left"}))},[c.success,j]);const d=r=>{N(r.target.id)};return e.jsx("div",{className:"form-wrapper",children:e.jsx("div",{className:"form-container service-provider",children:e.jsx(k,{initialValues:y.data,onSubmit:O,validationSchema:P,enableReinitialize:!0,children:r=>{var u;const m=x((u=r==null?void 0:r.values)==null?void 0:u.companyName);let i=h(m);if(i==null?void 0:i.find(a=>{var o;return((o=a.key)==null?void 0:o.trim().toLowerCase())==="rste"})){const a=x("RSTE");i=h(a)}return e.jsxs(D,{children:[e.jsx(T,{hl1:"Service Provider",hr1:e.jsx("p",{}),children:e.jsx(M,{})}),e.jsx("div",{className:"form-body",children:e.jsxs("div",{className:"tabs",children:[e.jsxs("div",{className:"tabs-header",children:[e.jsxs("div",{className:"tabs-header-left",children:[e.jsx("button",{className:`tabs-btn ${n==="main"?"active":""}`,id:"main",onClick:d,type:"button",children:"Main"}),e.jsx("button",{className:`tabs-btn ${n==="clients"?"active":""}`,id:"clients",onClick:d,type:"button",children:"Clients"})]}),e.jsxs("div",{className:"tabs-header-right",children:[e.jsx("button",{className:`tabs-btn ${n==="otherOffices"?"active":""}`,id:"otherOffices",onClick:d,type:"button",children:"Other Offices"}),e.jsx("button",{className:`tabs-btn ${n==="stores"?"active":""}`,id:"stores",onClick:d,type:"button",children:"Stores"})]})]}),e.jsxs("div",{className:"tabs-body",children:[n==="main"&&e.jsxs("div",{className:"main body-display",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"row-50-50",children:[e.jsx(s,{control:"input",type:"text",label:"Registered Name",name:"registeredName"}),e.jsx(s,{control:"input",type:"text",label:"Trading Name",name:"tradingName"})]}),e.jsx("div",{children:e.jsx(s,{control:"input",type:"text",label:"Address",name:"mainOffice.address"})})]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"row-50-50",children:[e.jsx(s,{control:"input",type:"text",label:"Email Adr",name:"mainOffice.email",options:f.spOptions}),e.jsx(s,{control:"input",type:"text",label:"Office Landline No",name:"mainOffice.phone",options:i||"none"})]})}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"row-50-50",children:[e.jsx(s,{control:"input",type:"text",label:"Contact Person Surname",name:"contactPerson.surname"}),e.jsx(s,{control:"input",type:"text",label:"Contact Person Name",name:"contactPerson.name"})]}),e.jsxs("div",{className:"row-50-50",children:[e.jsx(s,{control:"input",type:"text",label:"Person Person Cell",name:"contactPerson.cellNo"}),e.jsx(s,{control:"input",type:"text",label:"Person Person Email",name:"contactPerson.emailAdr"})]})]}),e.jsx("div",{className:"form-row"})]}),n==="clients"&&e.jsx("div",{className:"clients body-display",children:e.jsx(p,{name:"clients",render:({insert:a,remove:o,push:t})=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"body-display-header",children:e.jsx("button",{className:"row-add-btn",type:"button",onClick:()=>t({name:"",address:"",email:"",phone:""}),children:"Add Client"})}),r.values.clients.map((L,l,z)=>e.jsx("div",{className:"row-wrapper",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"row-10-45-45",children:[e.jsx("button",{className:"row-remove-btn",type:"button",onClick:()=>(console.log("index",l),o(l)),children:"-"}),e.jsx(s,{control:"reactSelect",type:"text",label:"Name",name:`clients.${l}.name`}),e.jsx(s,{control:"input",type:"text",label:"Address",name:`clients.${l}.address`})]}),e.jsxs("div",{className:"row-50-50",children:[e.jsx(s,{control:"input",type:"text",label:"Email",name:`clients.${l}.email`}),e.jsx(s,{control:"input",type:"text",label:"Phone",name:`clients.${l}.phone`})," "]})," "]})},l))]})})}),n==="otherOffices"&&e.jsx("div",{className:"other-offices body-display",children:e.jsx(p,{name:"otherOffices",render:a=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"body-display-header",children:e.jsx("button",{className:"row-add-btn",type:"button",onClick:()=>a.unshift({name:"",address:"",email:"",phone:""}),children:"Add Other Office"})}),a.form.values.otherOffices.map((o,t)=>e.jsx("div",{className:"row-wrapper",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"row-10-45-45",children:[e.jsx("button",{className:"row-remove-btn",type:"button",onClick:()=>a.remove(t),children:"-"}),e.jsx(s,{control:"input",type:"text",label:"Name",name:`otherOffices.[${t}].name`}),e.jsx(s,{control:"input",type:"text",label:"Address",name:`otherOffices.[${t}].address`})]}),e.jsxs("div",{className:"row-50-50",children:[e.jsx(s,{control:"input",type:"text",label:"Email",name:`otherOffices.[${t}].email`}),e.jsx(s,{control:"input",type:"text",label:"Phone",name:`otherOffices.[${t}].phone`})]})]})},t))]})})}),n==="stores"&&e.jsx("div",{className:"stores body-display",children:e.jsx(p,{name:"stores",render:a=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"body-display-header",children:e.jsx("button",{className:"row-add-btn",type:"button",onClick:()=>a.unshift({name:"",address:"",email:"",phone:""}),children:"Add stores"})}),a.form.values.stores.map((o,t)=>e.jsx("div",{className:"row-wrapper",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"row-10-45-45",children:[e.jsx("button",{className:"row-remove-btn",type:"button",onClick:()=>a.remove(t),children:"-"}),e.jsx(s,{control:"input",type:"text",label:"Name",name:`stores.[${t}].name`,placeholder:""}),e.jsx(s,{control:"input",type:"text",label:"Address",name:`stores.[${t}].address`,placeholder:""})]}),e.jsxs("div",{className:"row-50-50",children:[e.jsx(s,{control:"input",type:"text",label:"Email",name:`stores.[${t}].email`,placeholder:""}),e.jsx(s,{control:"input",type:"text",label:"Phone",name:`stores.[${t}].phone`,placeholder:""})]})]})},t))]})})})]})]})}),c.error&&e.jsx(R,{errorMsg:c.error}),e.jsx(q,{formik:r,signState:c})]})}})})})};export{V as default};
