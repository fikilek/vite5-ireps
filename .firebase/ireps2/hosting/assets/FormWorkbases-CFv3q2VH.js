import{N as F,u as S,r as l,J as $,bL as h,an as E,B as M,j as e,ac as C,ae as I,af as N,ag as D,aq as _,ay as U,S as z,bM as B,I as V,bN as A,ar as O,ak as R}from"./index-6XIBjwph.js";import{u as T}from"./useSignup-DzZSouOZ.js";try{let a=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},o=new a.Error().stack;o&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[o]="cf12c058-4185-4276-b249-1672040ef214",a._sentryDebugIdIdentifier="sentry-dbid-cf12c058-4185-4276-b249-1672040ef214")}catch{}const J=a=>{var m;const{response:o,getDocument:w}=F("users");S();const{uid:c}=(m=a==null?void 0:a.data)==null?void 0:m.data,[r,x]=l.useState({}),{closeModal:u}=$(),{updateUserObject:j,signupState:t}=T(),b=[];h&&h.forEach(s=>{b.push({label:s.lm,value:s.lm,data:s})});const k={workbases:r==null?void 0:r.workbases},p=s=>{j(s,c)};E({}),l.useEffect(()=>{t.success&&(u(),M.success(`User workbases for "${r.surname} ${r.name}", succesfully updated.`,{position:"bottom-left"}))},[t.success,u]),l.useEffect(()=>{o.success&&x(o.document)},[o]),l.useEffect(()=>{w(c)},[c]);const y=s=>(console.log("clearing selected value",s),null),v={control:s=>({...s,backgroundColor:"lightgray",padding:"0.11rem"}),option:(s,n)=>({...s,borderBottom:"1px dotted pink",color:n.isSelected?"white":"black",backgroundColor:n.isSelected?"hotpink":"white"})};return e.jsx("div",{className:"form-wrapper",children:e.jsx("div",{className:"form-container form-workbases",children:e.jsx(C,{initialValues:k,onSubmit:p,enableReinitialize:!0,children:s=>e.jsx(e.Fragment,{children:e.jsxs(I,{children:[e.jsx(N,{hl1:`${r.surname} ${r.name} workbases`,hr1:e.jsx("p",{children:r.workbase}),children:e.jsx(D,{})}),e.jsx(_,{msg:`Update user workbases allowed for the user: ${r.surname} ${r.name}`}),e.jsx("div",{className:"possible-workbases",children:e.jsx(U,{name:"workbases",render:n=>{var f,g;return e.jsxs("div",{className:"workbase-wrapper",children:[e.jsx(z,{defaultValue:"workbase",options:b,onChange:i=>{console.log("selection",i),n.push(i.value)},clearValue:y,styles:v}),((f=s.values)==null?void 0:f.workbases)&&((g=s.values)==null?void 0:g.workbases.map((i,d)=>e.jsxs("div",{className:"workbase-field",children:[e.jsx(B,{name:`workbases.${d}`}),e.jsx("button",{type:"button",onClick:()=>n.remove(d),children:e.jsx(V.Provider,{value:{color:"blue",fontSize:"2rem"},children:e.jsx(A,{})})})]},d)))]})}})}),t.error&&e.jsx(O,{errorMsg:t.error}),e.jsx(R,{formik:s,signState:t})]})})})})})};export{J as default};
//# sourceMappingURL=FormWorkbases-CFv3q2VH.js.map
