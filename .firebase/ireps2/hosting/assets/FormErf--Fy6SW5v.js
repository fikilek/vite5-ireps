import{u as v,J as F,r as d,N as T,B as O,j as e,ac as C,ae as E,af as M,ag as D,ah as f,ai as t,aj as A,ak as B,al as I,am as k}from"./index-CkAsUE4W.js";try{let r=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},s=new r.Error().stack;s&&(r._sentryDebugIds=r._sentryDebugIds||{},r._sentryDebugIds[s]="aa8e6863-3595-46b5-8a53-0f439717119c",r._sentryDebugIdIdentifier="sentry-dbid-aa8e6863-3595-46b5-8a53-0f439717119c")}catch{}const _=r=>{const{data:s}=r.data,{user:o}=v(),b=o==null?void 0:o.claims,{closeModal:N}=F(),[i,c]=d.useState(null),{response:n,updateDocument:p,addDocument:m}=T("erfs"),w=d.useCallback(a=>{a.id?p(a,a.id):m(a)},[m,p]);return d.useEffect(()=>{n.success&&(N(),O(`Erf ${s.erfNo} UPDATED successfully!`,{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}))},[n]),e.jsx("div",{className:"form-wrapper",children:e.jsxs("div",{className:"form-container erf",children:[e.jsx(C,{initialValues:s,onSubmit:w,children:a=>{var x,h,y,j;const l=(h=(x=a.values)==null?void 0:x.propertyType)==null?void 0:h.type;let u="hide";return(l==="Flats"||l==="Townhouses"||l==="Complex"||l==="Flats/Complex/Estate")&&(u="show"),e.jsx(E,{children:e.jsxs("div",{className:"erf-form",children:[e.jsx(M,{hl1:e.jsx("div",{className:"hl2",children:e.jsxs("span",{className:"",children:["ErfNo:"," ",e.jsx("span",{className:"text-emphasis2",children:s.erfNo})]})}),hr1:e.jsx(e.Fragment,{children:e.jsxs("span",{children:["Ward :"," ",e.jsx("span",{className:"text-emphasis2",children:s.address.ward?s.address.ward:"?"})]})}),hr2:e.jsx("div",{className:"hl2",children:e.jsxs("button",{onClick:g=>g.currentTarget.default(),children:["Meters"," ",e.jsxs("span",{className:"text-emphasis2",children:[(y=s==null?void 0:s.asts)!=null&&y.length?(j=s==null?void 0:s.asts)==null?void 0:j.length:0," "]})]})}),children:e.jsx(D,{})}),e.jsx(f,{sectionData:{sectionName:"property-type",formik:a},active:i,setActive:c,children:e.jsxs("div",{className:"form-row-wrapper",children:[e.jsxs("div",{className:"form-row",children:[e.jsx("div",{children:e.jsx(t,{control:"select",type:"text",label:"property type",name:"propertyType.type",options:A.propertyTypeOptions,placeholder:""})}),u==="show"?e.jsxs("div",{className:"row-50-50",children:[e.jsx(t,{control:"input",type:"text",label:"Unit Name",name:"propertyType.unitName",placeholder:""}),e.jsx(t,{control:"input",type:"text",label:"Unit No",name:"propertyType.unitNo",placeholder:""})]}):null]}),e.jsx("div",{className:"row-0 form-row",children:e.jsx(t,{control:"mediaButton",type:"button",label:"property type media",name:"media.propertyType",ml1:"asts"})})]})}),e.jsx(f,{sectionData:{sectionName:"customer-adr"},active:i,setActive:c,children:e.jsx("div",{className:"form-row-wrapper",children:e.jsxs("div",{className:"form-row",children:[e.jsx("div",{children:e.jsx(t,{readOnly:!0,control:"input",type:"text",label:"erf no",name:"erfNo",placeholder:""})}),e.jsx("div",{children:e.jsx(t,{control:"input",type:"text",label:"street address",name:"address.street",placeholder:""})}),e.jsxs("div",{className:"row-50-50",children:[e.jsx(t,{readOnly:!0,control:"input",type:"text",label:"suburd / tship",name:"address.suburbTownship",placeholder:""}),e.jsx(t,{readOnly:!0,control:"input",type:"text",label:"towm",name:"address.town",placeholder:""})]}),e.jsxs("div",{className:"row-50-50",children:[e.jsx(t,{readOnly:!0,control:"input",type:"text",label:"ml / metro",name:"address.lmMetro",placeholder:""}),e.jsx(t,{readOnly:!0,control:"input",type:"text",label:"dm",name:"address.dm",placeholder:""})]}),e.jsxs("div",{className:"row-50-50",children:[e.jsx(t,{readOnly:!0,control:"input",type:"text",label:"province",name:"address.province",placeholder:""}),e.jsx(t,{readOnly:!0,control:"input",type:"text",label:"country",name:"address.country",placeholder:""})]}),e.jsx("div",{children:e.jsx(t,{control:"rgcButton",type:"button",label:"erf system address",name:"address.systemAdr",placeholder:""})}),e.jsx("div",{children:e.jsx(t,{control:"mediaButton",type:"button",label:"customer adr media",name:"media.customerAdr",ml1:"asts"})})]})})}),b.guest?"":e.jsx(B,{formik:a,signState:n})]})})}}),e.jsx(I,{geocoding:"erf"}),e.jsx(k,{data:{...r.data,irepsKeyItem:"erfs",displayMode:"popup"}})]})})};export{_ as default};
//# sourceMappingURL=FormErf--Fy6SW5v.js.map
