import{u as p,D as x,am as E,an as r,r as w,a9 as h,j as e,ab as j,ad as f,ae as b,af as F,ap as g,ah as i,aq as v,aj as y}from"./index-2DC40iBv.js";import{u as N}from"./useSignup-W1hN5Mx1.js";const C=o=>{console.log("props",o);const{user:n}=p(),{closeModal:l}=x(),{formData:t}=o,{updateUserEmail:m,signupState:s}=N(),d={newEmail:t,email:t,password:""},c=a=>{m(a)},u=E({newEmail:r().email("Email is NOT valid.").required("Email is required."),email:r().email("Email is NOT valid.").required("Email is required."),password:r().required("Password is required.")});return w.useEffect(()=>{s.success&&(l(),h.success(`User email for "${n.displayName}", succesfully updated on iREPS`,{position:"bottom-left"}))},[s.success,l]),e.jsx("div",{className:"form-wrapper",children:e.jsx("div",{className:"form-container edit-user-email",children:e.jsx(j,{initialValues:d,onSubmit:c,validationSchema:u,children:a=>e.jsx(e.Fragment,{children:e.jsxs(f,{children:[e.jsx(b,{hl1:"Edit User Email",hr1:e.jsx("p",{}),children:e.jsx(F,{})}),e.jsx(g,{msg:"Enter the new email address on the 'New Email' field below and submit. A valid new email will be delivered into your inbox where you can open it and follow instructions."}),e.jsxs("div",{className:"edit-email-form",children:[e.jsx(i,{control:"input",type:"email",label:"Old Email",name:"email",placeholder:"",readOnly:!0}),e.jsx(i,{control:"input",type:"email",label:"New Email",name:"newEmail",placeholder:"",autoFocus:!0}),e.jsx(i,{control:"inputPwd",type:"password",label:"Password",name:"password",placeholder:"",autoComplete:"user password"})]}),s.error&&e.jsx(v,{errorMsg:s.error}),e.jsx(y,{formik:a,signState:s})]})})})})})};export{C as default};
