import{N as g,u as j,r as n,J as E,an as F,ao as c,B as W,j as e,ac as q,ae as v,af as D,ag as N,aq as S,ai as d,ar as U,ak as C}from"./index-B2W70YXr.js";import{u as M}from"./useSignup-DZGJRi-w.js";try{let r=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},s=new r.Error().stack;s&&(r._sentryDebugIds=r._sentryDebugIds||{},r._sentryDebugIds[s]="92dacc42-5e90-4a50-965f-e38caec66836",r._sentryDebugIdIdentifier="sentry-dbid-92dacc42-5e90-4a50-965f-e38caec66836")}catch{}const P=r=>{var p;const{response:s,getDocument:f}=g("users"),{user:i}=j(),{uid:l}=i,[a,w]=n.useState(null);let u=[{key:"choose",value:"choose"}];a!=null&&a.workbases&&((p=a==null?void 0:a.workbases)==null||p.map(o=>{u.push({key:o,value:o})}));const{closeModal:b}=E(),{formData:m}=r,{updateUserWorkbase:k,signupState:t}=M(),h={newWorkbase:m,workbase:m,password:""},x=o=>{k(o)},y=F({newWorkbase:c().required("Workbase is required."),workbase:c().required("Workbase is required."),password:c().required("Password is required.")});return n.useEffect(()=>{t.success&&(b(),W.success(`User workbase for "${i.displayName}", succesfully updated.`,{position:"bottom-left"}))},[t.success,b]),n.useEffect(()=>{s.success&&(s==null||s.document,w(s==null?void 0:s.document))},[s.success]),n.useEffect(()=>{f(l)},[l]),e.jsx("div",{className:"form-wrapper",children:e.jsx("div",{className:"form-container edit-user-workbase",children:e.jsx(q,{initialValues:h,onSubmit:x,validationSchema:y,children:o=>e.jsx(e.Fragment,{children:e.jsxs(v,{children:[e.jsx(D,{hl1:"Edit User Workbase",hr1:e.jsx("p",{}),children:e.jsx(N,{})}),e.jsx(S,{msg:"Enter the new workbase on the 'workbase' field below and submit."}),e.jsxs("div",{className:"edit-workbase-form",children:[e.jsx(d,{control:"input",type:"text",label:"Old Workbase",name:"workbase",placeholder:"",readOnly:!0}),e.jsx(d,{control:"select",type:"text",label:"New Workbase",name:"newWorkbase",placeholder:"",options:u}),e.jsx(d,{control:"inputPwd",type:"password",label:"Password",name:"password",placeholder:"",autoComplete:"user password"})]}),t.error&&e.jsx(U,{errorMsg:t.error}),e.jsx(C,{formik:o,signState:t})]})})})})})};export{P as default};
//# sourceMappingURL=FormEditUserWorkbase-KtgpxXP4.js.map
