{"version":3,"file":"Users-D7674fFn.js","sources":["../../src/components/tables/TableUsers.jsx","../../src/components/tables/TableUsersRoles.jsx","../../src/components/tables/TableSelect.jsx","../../src/hooks/useUsers.jsx","../../src/pages/users/Users.jsx"],"sourcesContent":["import { useMemo } from \"react\";\r\n\r\nimport \"@/components/tables/Table.css\";\r\nimport \"@/components/tables/TableUsers.css\";\r\n\r\nimport { TableCustomNoRowsOverlay } from \"@/components/tables/TableCustomNoRowsOverlay\";\r\n\r\n// ag grid\r\nimport { ModuleRegistry } from \"@ag-grid-community/core\";\r\nimport { ClientSideRowModelModule } from \"@ag-grid-community/client-side-row-model\";\r\nimport { AgGridReact } from \"@ag-grid-community/react\";\r\nimport \"@ag-grid-community/styles/ag-grid.css\";\r\nimport \"@ag-grid-community/styles/ag-theme-quartz.css\";\r\nModuleRegistry.registerModules([ClientSideRowModelModule]);\r\n\r\nconst TableUsers = (props) => {\r\n\tconst { rowData, colDefs } = props;\r\n\r\n\tconst defaultColDef = useMemo(\r\n\t\t() => ({\r\n\t\t\tsortable: true,\r\n\t\t\tfilter: true,\r\n\t\t\tresizable: true,\r\n\t\t\tfloatingFilter: true,\r\n\t\t\tsuppressMovable: true,\r\n\t\t}),\r\n\t\t[]\r\n\t);\r\n\r\n\tconst getRowId = (params) => {\r\n\t\t// console.log(`params`, params);\r\n\t\treturn params.data.id;\r\n\t};\r\n\r\n\tconst rowClassRules = {\r\n\t\t\"row-disabled\": (params) => {\r\n\t\t\tconsole.log(`params?.data?.disabled`, params?.data?.disabled);\r\n\t\t\treturn params?.data?.disabled;\r\n\t\t},\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"ag-theme-quartz table table-users\">\r\n\t\t\t<AgGridReact\r\n\t\t\t\trowData={rowData}\r\n\t\t\t\tcolumnDefs={colDefs}\r\n\t\t\t\tdefaultColDef={defaultColDef}\r\n\t\t\t\tpagination={true}\r\n\t\t\t\tnoRowsOverlayComponent={TableCustomNoRowsOverlay}\r\n\t\t\t\tgetRowId={getRowId}\r\n\t\t\t\trowClassRules={rowClassRules}\r\n\t\t\t\treactiveCustomComponents\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default TableUsers;\r\n","import { useContext, useEffect, useState } from \"react\";\r\n\r\nimport \"@/components/tables/TableUsersRoles.css\";\r\n\r\nimport { userRoles } from \"@/utils/utils.jsx\";\r\nimport useModal from \"@/hooks/useModal.jsx\";\r\n\r\nimport useAuthContext from \"@/hooks/useAuthContext.jsx\";\r\n\r\nimport { ClaimsContext } from \"@/contexts/ClaimsContext\";\r\n\r\nconst TableUsersRoles = (params) => {\r\n\t// console.log(`params`, params);\r\n\r\n\tconst { roles: roles_ } = params?.data?.customClaims;\r\n\t// console.log(`roles_`, roles_);\r\n\r\n\tconst { customClaims, setCustomClaims } = useContext(ClaimsContext);\r\n\t// console.log(`customClaims`, customClaims);\r\n\r\n\tconst [roles, setRoles] = useState({});\r\n\r\n\tconst { uid } = params?.data;\r\n\r\n\tconst customClaimsUid = customClaims?.uid;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (uid === customClaimsUid && customClaims.roles) {\r\n\t\t\tsetRoles(customClaims.roles);\r\n\t\t} else {\r\n\t\t\tsetRoles(roles_);\r\n\t\t}\r\n\t}, [customClaims]);\r\n\r\n\tconst { openModal } = useModal();\r\n\r\n\tconst { user } = useAuthContext();\r\n\r\n\tconst selectDisabled =\r\n\t\tuid === user.uid || params.data.disabled ? true : false;\r\n\r\n\tconst handleClick = (e) => {\r\n\t\tsetCustomClaims({\r\n\t\t\tuid,\r\n\t\t\troles,\r\n\t\t});\r\n\t\topenModal({\r\n\t\t\tmodalName: \"editUserRoles\",\r\n\t\t\tpayload: params.data,\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"table-users-roles\">\r\n\t\t\t{userRoles &&\r\n\t\t\t\tuserRoles.map((role) => {\r\n\t\t\t\t\tconsole.log(`role`, role);\r\n\t\t\t\t\tconst hasRole = roles[role.key] ? \"hasRole\" : \"\";\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tkey={role.name}\r\n\t\t\t\t\t\t\tclassName={`table-btn ${hasRole}`}\r\n\t\t\t\t\t\t\ttitle={role.name}\r\n\t\t\t\t\t\t\t// disabled={selectDisabled}\r\n\t\t\t\t\t\t\tonClick={handleClick}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{role.abbreviation}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default TableUsersRoles;\r\n","import { getFunctions, httpsCallable } from \"firebase/functions\";\nimport { toast } from \"react-toastify\";\n\nimport \"@/components/tables/TableSelect.css\";\n\nconst TableSelect = props => {\n\t// console.log(`props`, props);\n\n\t// TODO: implement access control and allow only managers to alter user state\n\n\tconst { value, options, onValueChange } = props;\n\n\tconst functions = getFunctions();\n\tconst disableUserAcc = httpsCallable(functions, \"disableUserAcc\");\n\n\tconst handleChange = e => {\n\t\t// console.log(`e.target.value`, e.target.value);\n\t\tonValueChange(e.target.value);\n\t\tprops.api.redrawRows();\n\t\tdisableUserAcc({\n\t\t\tuid: props.data.uid,\n\t\t\taction: e.target.value === \"disabled\" ? true : false,\n\t\t})\n\t\t\t// TODO: something I dont understand. e.target.value changes after data has been written to the DB. THis is strange. I should NOT change.\n\t\t\t.then(result => {\n\t\t\t\t// console.log(`result`, result);\n\t\t\t\t// console.log(`e.target.value`, e.target.value);\n\t\t\t\ttoast.success(\n\t\t\t\t\t`User acc [${props.data.displayName}] succesfully ${\n\t\t\t\t\t\te.target.value === \"disabled\" ? \"DISABLED\" : \"ENABLED\"\n\t\t\t\t\t}  `,\n\t\t\t\t\t{\n\t\t\t\t\t\tposition: \"bottom-left\",\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.log(`Error:`, error.message);\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"table-user-acc-disable-select\">\n\t\t\t{/* TODO: use a spinner (for pending works) to show activity while waiting to diasable or enable the user to finish */}\n\t\t\t<select value={value} className=\"table-btn\" onChange={handleChange}>\n\t\t\t\t{options &&\n\t\t\t\t\toptions.map(option => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<option key={option} value={option}>\n\t\t\t\t\t\t\t\t{option}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t</select>\n\t\t</div>\n\t);\n};\n\nexport default TableSelect;\n","import { getFunctions, httpsCallable } from \"firebase/functions\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nimport TableUsersRoles from \"@/components/tables/TableUsersRoles\";\r\nimport useCollection from \"@/hooks/useCollection\";\r\nimport TableSelect from \"@/components/tables/TableSelect\";\r\nimport useAuthContext from \"@/hooks/useAuthContext\";\r\nimport TableDate from \"@/components/tables/TableDate\";\r\nimport TableModalBtn from \"@/components/tables/TableModalBtn\";\r\n\r\nexport const useUsers = (props) => {\r\n\tconst [users, setUsers] = useState([]);\r\n\t// console.log(`users`, users);\r\n\r\n\tconst { user } = useAuthContext();\r\n\r\n\tconst { data } = useCollection(\"users\", null);\r\n\t// console.log(`users`, users);\r\n\r\n\tconst functions = getFunctions();\r\n\r\n\tconst listAllUsers = httpsCallable(functions, \"listAllUsers\");\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!user) return;\r\n\t\tlistAllUsers().then((result) => {\r\n\t\t\t// console.log(`result`, result);\r\n\t\t\tlet newUsers = [];\r\n\t\t\tresult?.data?.forEach((element) => {\r\n\t\t\t\t// console.log(`element`, element);\r\n\t\t\t\tconst fromFbCol = data.find((data) => element.uid === data.id);\r\n\t\t\t\tif (fromFbCol) {\r\n\t\t\t\t\t// console.log(`fromFbCol`, fromFbCol);\r\n\t\t\t\t\tnewUsers.push({\r\n\t\t\t\t\t\t...element,\r\n\t\t\t\t\t\tcompanyName: fromFbCol.companyName,\r\n\t\t\t\t\t\tworkbase: fromFbCol.workbase,\r\n\t\t\t\t\t\tphoneNumber: fromFbCol.phoneNumber,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// console.log(`newUsers`, newUsers);\r\n\t\t\tsetUsers(newUsers);\r\n\t\t});\r\n\t}, [data, user]);\r\n\r\n\tconst usersTableFields = [\r\n\t\t{\r\n\t\t\tfield: \"uid\",\r\n\t\t\theaderName: \"users Id\",\r\n\t\t\twidth: 250,\r\n\t\t\thide: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"disabled\",\r\n\t\t\theaderName: \"Acc Status?\",\r\n\t\t\twidth: 150,\r\n\t\t\t// cellRenderer: TableUserAccDisableSelect,\r\n\t\t\teditable: true,\r\n\t\t\tcellEditor: TableSelect,\r\n\t\t\tcellEditorParams: {\r\n\t\t\t\toptions: [\"enabled\", \"disabled\"],\r\n\t\t\t},\r\n\t\t\tvalueGetter: (params) => {\r\n\t\t\t\t// console.log(`params.data.disabled`, params.data.disabled);\r\n\t\t\t\treturn params.data.disabled ? \"disabled\" : \"enabled\";\r\n\t\t\t},\r\n\t\t\tvalueSetter: (params) => {\r\n\t\t\t\t// console.log(`params.newValue`, params.newValue);\r\n\t\t\t\tparams.data.disabled = params.newValue === \"disabled\" ? true : false;\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\tcellStyle: (params) => {\r\n\t\t\t\t// console.log(params);\r\n\t\t\t\tconst { uid } = params.data;\r\n\t\t\t\tconst selectDisabled = uid === user.uid ? true : false;\r\n\t\t\t\treturn selectDisabled\r\n\t\t\t\t\t? {\r\n\t\t\t\t\t\t\tcolor: \"grey\",\r\n\t\t\t\t\t\t\tfontWeight: \"700\",\r\n\t\t\t\t\t\t\tpointerEvents: \"none\",\r\n\t\t\t\t\t\t\tcursor: \"none\",\r\n\t\t\t\t\t\t\tborderLeft: \"0.3rem solid grey\",\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t: \"\";\r\n\t\t\t},\r\n\t\t},\r\n\t\t// Workbase\r\n\t\t{\r\n\t\t\tfield: \"workbase\",\r\n\t\t\theaderName: \"Workbase\",\r\n\t\t\twidth: 180,\r\n\t\t\tcellRenderer: (params) => {\r\n\t\t\t\t// console.log(`params`, params);\r\n\t\t\t\t// const { workbase } = params.data;\r\n\t\t\t\treturn <TableModalBtn data={params}>{params.value}</TableModalBtn>;\r\n\t\t\t},\r\n\t\t\tcellRendererParams: {\r\n\t\t\t\tmodalName: \"workbases\",\r\n\t\t\t\twidth: \"8rem\",\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"metadata.creationTime\",\r\n\t\t\theaderName: \"Date Created\",\r\n\t\t\twidth: 180,\r\n\t\t\tcellRenderer: (params) => {\r\n\t\t\t\t// console.log(`params`, params);\r\n\t\t\t\tconst newDate = new Date(params.data.metadata?.creationTime);\r\n\t\t\t\treturn <TableDate date={newDate} dateFormat={\"yyyy-MMM-dd HH:mm\"} />;\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"metadata.lastSignInTime\",\r\n\t\t\theaderName: \"Last Signin\",\r\n\t\t\twidth: 180,\r\n\t\t\tcellRenderer: (params) => {\r\n\t\t\t\tconst newDate = new Date(params.data.metadata?.lastSignInTime);\r\n\t\t\t\treturn <TableDate date={newDate} dateFormat={\"yyyy-MMM-dd HH:mm\"} />;\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"displayName\",\r\n\t\t\theaderName: \"Display Name\",\r\n\t\t\twidth: 170,\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"email\",\r\n\t\t\theaderName: \"Email Adr\",\r\n\t\t\twidth: 200,\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"emailVerified\",\r\n\t\t\theaderName: \"Email Verified\",\r\n\t\t\twidth: 150,\r\n\t\t\tcellRenderer: (params) => {\r\n\t\t\t\t// console.log(`params.data`, params.data);\r\n\t\t\t\treturn <p>{params.data.emailVerified ? \"Yes\" : \"No\"}</p>;\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"customClaims.roles\",\r\n\t\t\theaderName: \"Roles\",\r\n\t\t\twidth: 220,\r\n\t\t\tcellRenderer: TableUsersRoles,\r\n\t\t\tvalueGetter: (params) => {\r\n\t\t\t\treturn params.value;\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"phoneNumber\",\r\n\t\t\theaderName: \"Phone Number\",\r\n\t\t\twidth: 150,\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"companyName\",\r\n\t\t\theaderName: \"Company Name\",\r\n\t\t\twidth: 170,\r\n\t\t},\r\n\t];\r\n\r\n\treturn { usersTableFields, users };\r\n};\r\n\r\n// TODO: Add phpto url column to users tables\r\n// TODO: Add online column to users table\r\n","import { useContext, useEffect, useState } from \"react\";\r\n\r\nimport TableUsers from \"@/components/tables/TableUsers\";\r\nimport { useUsers } from \"@/hooks/useUsers\";\r\nimport { ClaimsContext } from \"@/contexts/ClaimsContext\";\r\n\r\nconst Users = () => {\r\n\tconst { usersTableFields, users } = useUsers();\r\n\t// console.log(`users`, users);\r\n\tconst [unps, setUnps] = useState([]);\r\n\r\n\tconst { customClaims } = useContext(ClaimsContext);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetUnps(users);\r\n\t}, [users]);\r\n\r\n\t// TODO: fix the bug. Sometimes the unps is set to null on load\r\n\tuseEffect(() => {\r\n\t\tif (!customClaims) return;\r\n\r\n\t\t// find the user to update role\r\n\t\tconst userToUpdate = unps.find((unp) => unp.uid === customClaims?.uid);\r\n\r\n\t\t// update the user role\r\n\t\tconst updatedUser = {\r\n\t\t\t...userToUpdate,\r\n\t\t\tcustomClaims: {\r\n\t\t\t\t...userToUpdate?.customClaims,\r\n\t\t\t\troles: customClaims?.roles,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\t// find the index of the updated uer\r\n\t\tconst index = unps.findIndex((unp) => unp.uid === customClaims?.uid);\r\n\t\tif (index === -1) return;\r\n\r\n\t\t// update unp at the index`\r\n\t\tconst newUnps = unps?.with(index, updatedUser);\r\n\t\t// console.log(`newUnps`, newUnps);\r\n\r\n\t\t// update the state\r\n\t\tsetUnps(newUnps);\r\n\t}, [customClaims]);\r\n\r\n\treturn (\r\n\t\t<div className=\"table\">\r\n\t\t\t<TableUsers rowData={unps} colDefs={usersTableFields} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Users;\r\n//\r\n"],"names":["ModuleRegistry","ClientSideRowModelModule","TableUsers","props","rowData","colDefs","defaultColDef","useMemo","getRowId","params","rowClassRules","_a","_b","jsx","AgGridReact","TableCustomNoRowsOverlay","TableUsersRoles","roles_","customClaims","setCustomClaims","useContext","ClaimsContext","roles","setRoles","useState","uid","customClaimsUid","useEffect","openModal","useModal","user","useAuthContext","handleClick","e","userRoles","role","hasRole","TableSelect","value","options","onValueChange","functions","getFunctions","disableUserAcc","httpsCallable","handleChange","result","toast","error","option","useUsers","users","setUsers","data","useCollection","listAllUsers","newUsers","element","fromFbCol","TableModalBtn","newDate","TableDate","Users","usersTableFields","unps","setUnps","userToUpdate","unp","updatedUser","index","newUnps"],"mappings":"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"}