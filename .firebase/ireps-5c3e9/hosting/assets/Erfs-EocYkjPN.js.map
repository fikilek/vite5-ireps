{"version":3,"file":"Erfs-EocYkjPN.js","sources":["../../src/components/tables/TableErfs.jsx","../../src/components/erfs/ErfsTable.jsx","../../src/components/erfs/ErfsMain.jsx","../../src/components/erfs/ErfsHeader.jsx","../../src/pages/erfs/Erfs.jsx"],"sourcesContent":["import { useMemo } from \"react\";\r\nimport { ModuleRegistry } from \"@ag-grid-community/core\";\r\nimport { ClientSideRowModelModule } from \"@ag-grid-community/client-side-row-model\";\r\nimport { AgGridReact } from \"@ag-grid-community/react\";\r\n\r\n// css\r\nimport \"@/components/tables/Table.css\";\r\nimport \"@/components/tables/TableErfs.css\";\r\nimport \"@ag-grid-community/styles/ag-grid.css\";\r\nimport \"@ag-grid-community/styles/ag-theme-quartz.css\";\r\nModuleRegistry.registerModules([ClientSideRowModelModule]);\r\n\r\n// components\r\nimport { TableCustomNoRowsOverlay } from \"@/components/tables/TableCustomNoRowsOverlay\";\r\n\r\nconst TableErfs = (props) => {\r\n\tconst { rowData, colDefs, tableRef } = props;\r\n\r\n\tconst defaultColDef = useMemo(\r\n\t\t() => ({\r\n\t\t\tsortable: true,\r\n\t\t\tfilter: true,\r\n\t\t\tresizable: true,\r\n\t\t\tfloatingFilter: true,\r\n\t\t\tsuppressMovable: true,\r\n\t\t}),\r\n\t\t[]\r\n\t);\r\n\r\n\tconst getRowId = (params) => {\r\n\t\t// console.log(`params`, params);\r\n\t\treturn params.data.id;\r\n\t};\r\n\r\n\t// const rowClassRules = {\r\n\t// \t\"row-disabled\": params => {\r\n\t// \t\t// console.log(`params?.data?.disabled`, params?.data?.disabled);\r\n\t// \t\treturn params?.data?.disabled;\r\n\t// \t},\r\n\t// };\r\n\r\n\treturn (\r\n\t\t<div className=\"ag-theme-quartz table table-erfs\">\r\n\t\t\t<AgGridReact\r\n\t\t\t\trowData={rowData}\r\n\t\t\t\tcolumnDefs={colDefs}\r\n\t\t\t\tdefaultColDef={defaultColDef}\r\n\t\t\t\tpagination={true}\r\n\t\t\t\tnoRowsOverlayComponent={TableCustomNoRowsOverlay}\r\n\t\t\t\tgetRowId={getRowId}\r\n\t\t\t\t// rowClassRules={rowClassRules}\r\n\t\t\t\treactiveCustomComponents\r\n\t\t\t\tref={tableRef}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default TableErfs;\r\n","import { useContext } from \"react\";\r\n\r\n// css\r\nimport \"@/components/erfs/ErfsTable.css\";\r\n\r\n// contexts\r\nimport { ErfsContext } from \"@/contexts/ErfsContext\";\r\n\r\n// components\r\nimport TableErfs from \"@/components/tables/TableErfs\";\r\n\r\nconst ErfsTable = (props) => {\r\n\tconst { tableRef } = props;\r\n\tconst { erfsContext } = useContext(ErfsContext);\r\n\t// console.log(`erfsContext`, erfsContext);\r\n\treturn (\r\n\t\t<div className=\"erfs-table\">\r\n\t\t\t<TableErfs\r\n\t\t\t\trowData={erfsContext.erfs}\r\n\t\t\t\tcolDefs={erfsContext.erfsTableFields}\r\n\t\t\t\ttableRef={tableRef}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ErfsTable;\r\n","import { useContext } from \"react\";\r\n\r\n// css\r\nimport \"@/components/erfs/ErfsMain.css\";\r\n\r\n// context\r\nimport { ErfsContext } from \"@/contexts/ErfsContext\";\r\n\r\n// components\r\nimport ErfsTable from \"@/components/erfs/ErfsTable\";\r\n// import RgmErfsMap from \"@/components/maps/rgm/RgmErfsMap\";\r\n// import ErfsMap from \"./ErfsMap\";\r\n\r\nconst ErfsMain = (props) => {\r\n\tconst { tableRef } = props;\r\n\tconst { erfsContext } = useContext(ErfsContext);\r\n\t// console.log(`erfsContext`, erfsContext);\r\n\r\n\t// const isThereErfs = erfsContext.erfs.length\r\n\t// console.log(`isThereErfs`, isThereErfs)\r\n\r\n\treturn (\r\n\t\t<div className=\"erfs-main\">\r\n\t\t\t{erfsContext.activeTab === \"table\" && <ErfsTable tableRef={tableRef} />}\r\n\t\t\t{/* {erfsContext.activeTab === \"map\" && <ErfsMap />} */}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ErfsMain;\r\n","// import { useCallback, useContext } from \"react\";\r\nimport * as XLSX from \"xlsx/xlsx.mjs\";\r\n\r\n// css\r\nimport \"@/components/erfs/ErfsHeader.css\";\r\n\r\n// hooks\r\nimport { useUser } from \"@/hooks/useUser\";\r\nimport { useErfs } from \"@/hooks/useErfs\";\r\nimport useAuthContext from \"@/hooks/useAuthContext\";\r\n\r\n// components\r\n// import { ErfsContext } from \"@/contexts/ErfsContext\";\r\nimport PageTitle from \"@/pages/PageTitle\";\r\n// import FilterBtn from \"@/components/filters/FilterBtn\";\r\n// import BtnPageHeaderBtn from \"@/components/buttons/BtnPageHeaderBtn\";\r\n\r\nconst ErfsHeader = (props) => {\r\n\t// props\r\n\tconst { phLl, tableRef } = props;\r\n\r\n\tconst { user } = useAuthContext();\r\n\t// console.log(`user`, user);\r\n\r\n\tconst { createExportRowData } = useErfs();\r\n\r\n\tconst { userFromUsers } = useUser(user?.uid);\r\n\t// console.log(`userFromUsers`, userFromUsers);\r\n\r\n\t// context\r\n\t// const { setErfsContext } = useContext(ErfsContext);\r\n\r\n\t// handle event - active tab\r\n\t// const handleActiveTab = useCallback(\r\n\t// \t(e) => {\r\n\t// \t\t// console.log(`e.target.id`, e.target.id);\r\n\t// \t\tsetErfsContext((prev) => {\r\n\t// \t\t\treturn {\r\n\t// \t\t\t\t...prev,\r\n\t// \t\t\t\tactiveTab: e.target.id,\r\n\t// \t\t\t};\r\n\t// \t\t});\r\n\t// \t},\r\n\t// \t[setErfsContext]\r\n\t// );\r\n\r\n\tconst onPrint = () => {\r\n\t\t// console.log(`e`, e);\r\n\t\t// console.log(`tableRef.current`, tableRef.current);\r\n\r\n\t\tconst { rowData } = tableRef?.current?.props;\r\n\t\t// console.log(`rowData`, rowData);\r\n\r\n\t\tconst exportRowData = createExportRowData(rowData);\r\n\t\t// console.log(`exportRowData`, exportRowData);\r\n\r\n\t\t// tableRef.current.api.exportDataAsCsv();\r\n\r\n\t\t// Extract Data (create a workbook object from the table)\r\n\t\tconst wb = XLSX.utils.book_new();\r\n\t\tconst ws = XLSX.utils.json_to_sheet(exportRowData);\r\n\t\t// console.log(`ws`, ws);\r\n\r\n\t\t// Process Data (add a new row)\r\n\t\tXLSX.utils.book_append_sheet(wb, ws, \"erfs\");\r\n\r\n\t\t// Package and Release Data (`writeFile` tries to write and save an XLSB file)\r\n\t\tXLSX.writeFile(wb, \"Report.xlsx\");\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"erfs-header\">\r\n\t\t\t<div className=\"ph ph-left\">\r\n\t\t\t\t<div className=\"phLl\">\r\n\t\t\t\t\t{/* <FilterBtn /> */}\r\n\t\t\t\t\t<PageTitle title={phLl} />\r\n\t\t\t\t\t<PageTitle title={userFromUsers.workbase} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"ph ph-right\">\r\n\t\t\t\t<div className=\"phRl\"></div>\r\n\t\t\t\t<div className=\"phRr\">\r\n\t\t\t\t\t<button onClick={onPrint}>Export</button>\r\n\t\t\t\t\t{/* <BtnPageHeaderBtn\r\n\t\t\t\t\t\thandleClick={handleActiveTab}\r\n\t\t\t\t\t\ttabName=\"table\"\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t\t{/* <BtnPageHeaderBtn\r\n\t\t\t\t\t\thandleClick={handleActiveTab}\r\n\t\t\t\t\t\ttabName=\"split\"\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t\t{/* <BtnPageHeaderBtn\r\n\t\t\t\t\t\thandleClick={handleActiveTab}\r\n\t\t\t\t\t\ttabName=\"map\"\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ErfsHeader;\r\n","// npm libraries\r\nimport { useRef } from \"react\";\r\n\r\n// css\r\nimport \"@/pages/erfs/Erfs.css\";\r\n\r\n// hooks\r\nimport { useErfs } from \"@/hooks/useErfs.jsx\";\r\nimport { useAsts } from \"@/hooks/useAsts.jsx\";\r\n\r\n// components\r\nimport ErfsMain from \"@/components/erfs/ErfsMain\";\r\nimport ErfsHeader from \"@/components/erfs/ErfsHeader\";\r\n\r\nconst Erfs = () => {\r\n\tconst tableRef = useRef();\r\n\tuseErfs();\r\n\tuseAsts();\r\n\r\n\treturn (\r\n\t\t<div className=\"erfs\">\r\n\t\t\t<ErfsHeader phLl=\"Erfs\" tableRef={tableRef} />\r\n\t\t\t<div className=\"erfs-body\">\r\n\t\t\t\t<ErfsMain tableRef={tableRef} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Erfs;\r\n"],"names":["ModuleRegistry","ClientSideRowModelModule","TableErfs","props","rowData","colDefs","tableRef","defaultColDef","useMemo","getRowId","params","jsx","AgGridReact","TableCustomNoRowsOverlay","ErfsTable","erfsContext","useContext","ErfsContext","ErfsMain","ErfsHeader","phLl","user","useAuthContext","createExportRowData","useErfs","userFromUsers","useUser","onPrint","_a","exportRowData","wb","XLSX.utils","ws","XLSX.writeFile","jsxs","PageTitle","Erfs","useRef","useAsts"],"mappings":"gqBAUAA,EAAe,gBAAgB,CAACC,CAAwB,CAAC,EAKzD,MAAMC,EAAaC,GAAU,CAC5B,KAAM,CAAE,QAAAC,EAAS,QAAAC,EAAS,SAAAC,CAAA,EAAaH,EAEjCI,EAAgBC,EAAA,QACrB,KAAO,CACN,SAAU,GACV,OAAQ,GACR,UAAW,GACX,eAAgB,GAChB,gBAAiB,EAAA,GAElB,CAAC,CAAA,EAGIC,EAAYC,GAEVA,EAAO,KAAK,GAWnB,OAAAC,EAAAA,IAAC,MAAI,CAAA,UAAU,mCACd,SAAAA,EAAA,IAACC,EAAA,CACA,QAAAR,EACA,WAAYC,EACZ,cAAAE,EACA,WAAY,GACZ,uBAAwBM,EACxB,SAAAJ,EAEA,yBAAwB,GACxB,IAAKH,CAAA,CAEP,CAAA,CAAA,CAEF,EC7CMQ,EAAaX,GAAU,CACtB,KAAA,CAAE,SAAAG,CAAa,EAAAH,EACf,CAAE,YAAAY,CAAA,EAAgBC,EAAA,WAAWC,CAAW,EAG7C,OAAAN,EAAAA,IAAC,MAAI,CAAA,UAAU,aACd,SAAAA,EAAA,IAACT,EAAA,CACA,QAASa,EAAY,KACrB,QAASA,EAAY,gBACrB,SAAAT,CAAA,CAEF,CAAA,CAAA,CAEF,ECXMY,EAAYf,GAAU,CACrB,KAAA,CAAE,SAAAG,CAAa,EAAAH,EACf,CAAE,YAAAY,CAAA,EAAgBC,EAAA,WAAWC,CAAW,EAO7C,OAAAN,EAAAA,IAAC,MAAI,CAAA,UAAU,YACb,SAAAI,EAAY,YAAc,SAAWJ,EAAA,IAACG,EAAU,CAAA,SAAAR,CAAoB,CAAA,CAEtE,CAAA,CAEF,ECVMa,EAAchB,GAAU,CAEvB,KAAA,CAAE,KAAAiB,EAAM,SAAAd,CAAa,EAAAH,EAErB,CAAE,KAAAkB,GAASC,IAGX,CAAE,oBAAAC,GAAwBC,IAE1B,CAAE,cAAAC,CAAkB,EAAAC,EAAQL,GAAA,YAAAA,EAAM,GAAG,EAoBrCM,EAAU,IAAM,OAIrB,KAAM,CAAE,QAAAvB,CAAY,GAAAwB,EAAAtB,GAAA,YAAAA,EAAU,UAAV,YAAAsB,EAAmB,MAGjCC,EAAgBN,EAAoBnB,CAAO,EAM3C0B,EAAKC,EAAW,WAChBC,EAAKD,EAAW,cAAcF,CAAa,EAIjDE,EAAW,kBAAkBD,EAAIE,EAAI,MAAM,EAGtCC,EAAUH,EAAI,aAAa,CAAA,EAIhC,OAAAI,EAAA,KAAC,MAAI,CAAA,UAAU,cACd,SAAA,CAAAvB,EAAAA,IAAC,OAAI,UAAU,aACd,SAACuB,EAAA,KAAA,MAAA,CAAI,UAAU,OAEd,SAAA,CAACvB,EAAAA,IAAAwB,EAAA,CAAU,MAAOf,CAAM,CAAA,EACvBT,EAAAA,IAAAwB,EAAA,CAAU,MAAOV,EAAc,QAAU,CAAA,CAAA,CAAA,CAC3C,CACD,CAAA,EAEAS,EAAAA,KAAC,MAAI,CAAA,UAAU,cACd,SAAA,CAACvB,EAAAA,IAAA,MAAA,CAAI,UAAU,MAAO,CAAA,EACtBA,EAAAA,IAAC,OAAI,UAAU,OACd,eAAC,SAAO,CAAA,QAASgB,EAAS,SAAA,QAAA,CAAM,CAajC,CAAA,CAAA,EACD,CACD,CAAA,CAAA,CAEF,ECtFMS,EAAO,IAAM,CAClB,MAAM9B,EAAW+B,EAAAA,SACT,OAAAb,IACAc,IAGPJ,EAAA,KAAC,MAAI,CAAA,UAAU,OACd,SAAA,CAACvB,EAAAA,IAAAQ,EAAA,CAAW,KAAK,OAAO,SAAAb,CAAoB,CAAA,QAC3C,MAAI,CAAA,UAAU,YACd,SAACK,EAAA,IAAAO,EAAA,CAAS,SAAAZ,CAAoB,CAAA,EAC/B,CACD,CAAA,CAAA,CAEF"}