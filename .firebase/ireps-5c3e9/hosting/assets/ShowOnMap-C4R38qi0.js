import{r as s,aa as S,d as b,f as j,j as E}from"./index-BjVKhCAv.js";import{I}from"./IwShowOnMap-Cd7CLcsh.js";import"./FormErf-B9Bk6nxE.js";import"./IrepsInfoWindow-D5YmHk5c.js";/* empty css                        */import"./index.esm-CCLMO3lc.js";import"./MapWardErfsBoundaries-Kvs0TuBw.js";import"./useIrepsMap--We17ACJ.js";import"./useTrns-BiXDnjMc.js";import"./IwTrnsOnAst-C3CjWixM.js";import"./TableTrnsOnAst-CnPtFs1h.js";import"./ag-theme-quartz-C9odMXne.js";const M=(a,e)=>{const[l,n]=s.useState(null),[d,m]=s.useState(null);return s.useEffect(()=>{let t=null;if(!e)return;const u=S(b,a,e);return t=j(u,o=>{n({...o.data(),id:o.id})},o=>{console.log("document fetch error",o.message),m("Failed to get document",e)}),()=>{t&&t()}},[e,a]),{error:d,document:l}},A=a=>{var c,f,i;const{erfId:e,address:l}=a.data.data.erf,{erf:n}=a.data.data,{lmMetro:d,ward:m}=l,[t,u]=s.useState({}),{error:o,document:r}=M("erfs",e);return s.useEffect(()=>{var p,x,h,w;u({point:{lat:(x=(p=r==null?void 0:r.address)==null?void 0:p.gps)==null?void 0:x.latitude,lng:(w=(h=r==null?void 0:r.address)==null?void 0:h.gps)==null?void 0:w.longitude},label:r==null?void 0:r.erfNo})},[r]),E.jsx("div",{className:"show-on-map",children:((c=t==null?void 0:t.point)==null?void 0:c.lat)&&E.jsx(I,{lat:(f=t==null?void 0:t.point)==null?void 0:f.lat,lng:(i=t==null?void 0:t.point)==null?void 0:i.lng,label:t==null?void 0:t.label,ward:m,lmMetro:d,erf:n})})};export{A as default};
