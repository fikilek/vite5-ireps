import{u as g,y as F,r as n,D as O,a9 as T,j as e,ab as C,ad as E,ae as M,af as A,ag as f,ah as s,ai as B,aj as S,ak as k,al as D}from"./index-CyIbrq5N.js";const U=d=>{const{data:t}=d.data,{user:l}=g(),N=l==null?void 0:l.claims,{closeModal:b}=F(),[c,i]=n.useState(null),{response:o,updateDocument:p,addDocument:m}=O("erfs"),v=n.useCallback(r=>{r.id?p(r,r.id):m(r)},[m,p]);return n.useEffect(()=>{o.success&&(b(),T(`Erf ${t.erfNo} UPDATED successfully!`,{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}))},[o]),e.jsx("div",{className:"form-wrapper",children:e.jsxs("div",{className:"form-container erf",children:[e.jsx(C,{initialValues:t,onSubmit:v,children:r=>{var h,u,j,y;const a=(u=(h=r.values)==null?void 0:h.propertyType)==null?void 0:u.type;let x="hide";return(a==="Flats"||a==="Townhouses"||a==="Complex"||a==="Flats/Complex/Estate")&&(x="show"),e.jsx(E,{children:e.jsxs("div",{className:"erf-form",children:[e.jsx(M,{hl1:e.jsx("div",{className:"hl2",children:e.jsxs("span",{className:"",children:["ErfNo:"," ",e.jsx("span",{className:"text-emphasis2",children:t.erfNo})]})}),hr1:e.jsx(e.Fragment,{children:e.jsxs("span",{children:["Ward :"," ",e.jsx("span",{className:"text-emphasis2",children:t.address.ward?t.address.ward:"?"})]})}),hr2:e.jsx("div",{className:"hl2",children:e.jsxs("button",{onClick:w=>w.currentTarget.default(),children:["Meters"," ",e.jsxs("span",{className:"text-emphasis2",children:[(j=t==null?void 0:t.asts)!=null&&j.length?(y=t==null?void 0:t.asts)==null?void 0:y.length:0," "]})]})}),children:e.jsx(A,{})}),e.jsx(f,{sectionData:{sectionName:"property-type",formik:r},active:c,setActive:i,children:e.jsxs("div",{className:"form-row-wrapper",children:[e.jsxs("div",{className:"form-row",children:[e.jsx("div",{children:e.jsx(s,{control:"select",type:"text",label:"property type",name:"propertyType.type",options:B.propertyTypeOptions,placeholder:""})}),x==="show"?e.jsxs("div",{className:"row-50-50",children:[e.jsx(s,{control:"input",type:"text",label:"Unit Name",name:"propertyType.unitName",placeholder:""}),e.jsx(s,{control:"input",type:"text",label:"Unit No",name:"propertyType.unitNo",placeholder:""})]}):null]}),e.jsx("div",{className:"row-0 form-row",children:e.jsx(s,{control:"mediaButton",type:"button",label:"property type media",name:"media.propertyType",ml1:"asts"})})]})}),e.jsx(f,{sectionData:{sectionName:"customer-adr"},active:c,setActive:i,children:e.jsx("div",{className:"form-row-wrapper",children:e.jsxs("div",{className:"form-row",children:[e.jsx("div",{children:e.jsx(s,{readOnly:!0,control:"input",type:"text",label:"erf no",name:"erfNo",placeholder:""})}),e.jsx("div",{children:e.jsx(s,{control:"input",type:"text",label:"street address",name:"address.street",placeholder:""})}),e.jsxs("div",{className:"row-50-50",children:[e.jsx(s,{readOnly:!0,control:"input",type:"text",label:"suburd / tship",name:"address.suburbTownship",placeholder:""}),e.jsx(s,{readOnly:!0,control:"input",type:"text",label:"towm",name:"address.town",placeholder:""})]}),e.jsxs("div",{className:"row-50-50",children:[e.jsx(s,{readOnly:!0,control:"input",type:"text",label:"ml / metro",name:"address.lmMetro",placeholder:""}),e.jsx(s,{readOnly:!0,control:"input",type:"text",label:"dm",name:"address.dm",placeholder:""})]}),e.jsxs("div",{className:"row-50-50",children:[e.jsx(s,{readOnly:!0,control:"input",type:"text",label:"province",name:"address.province",placeholder:""}),e.jsx(s,{readOnly:!0,control:"input",type:"text",label:"country",name:"address.country",placeholder:""})]}),e.jsx("div",{children:e.jsx(s,{control:"rgcButton",type:"button",label:"erf system address",name:"address.systemAdr",placeholder:""})}),e.jsx("div",{children:e.jsx(s,{control:"mediaButton",type:"button",label:"customer adr media",name:"media.customerAdr",ml1:"asts"})})]})})}),N.guest?"":e.jsx(S,{formik:r,signState:o})]})})}}),e.jsx(k,{geocoding:"erf"}),e.jsx(D,{data:{...d.data,irepsKeyItem:"erfs",displayMode:"popup"}})]})})};export{U as default};
