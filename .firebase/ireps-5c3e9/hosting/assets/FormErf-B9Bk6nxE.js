import{D as v,r as o,B as w,a9 as g,j as e,ab as F,ad as O,ae as T,af as E,ag as y,ah as s,ai as C,aj as M,ak as B,al as A}from"./index-BjVKhCAv.js";const k=n=>{const{data:r}=n.data,{closeModal:f}=v(),[d,i]=o.useState(null),{response:l,updateDocument:c,addDocument:p}=w("erfs"),N=o.useCallback(t=>{t.id?c(t,t.id):p(t)},[p,c]);return o.useEffect(()=>{l.success&&(f(),g(`Erf ${r.erfNo} UPDATED successfully!`,{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}))},[l]),e.jsx("div",{className:"form-wrapper",children:e.jsxs("div",{className:"form-container erf",children:[e.jsx(F,{initialValues:r,onSubmit:N,children:t=>{var x,h,u,j;const a=(h=(x=t.values)==null?void 0:x.propertyType)==null?void 0:h.type;let m="hide";return(a==="Flats"||a==="Townhouses"||a==="Complex"||a==="Flats/Complex/Estate")&&(m="show"),e.jsx(O,{children:e.jsxs("div",{className:"erf-form",children:[e.jsx(T,{hl1:"Erf Form",hl2:e.jsx("div",{className:"hl2",children:e.jsxs("span",{className:"erf-no",children:["ErfNo:"," ",e.jsx("span",{className:"text-emphasis2",children:r.erfNo})]})}),hr1:e.jsx(e.Fragment,{children:e.jsxs("span",{children:["Ward :"," ",e.jsx("span",{className:"text-emphasis2",children:r.address.ward?r.address.ward:"?"})]})}),hr2:e.jsx("div",{className:"hl2",children:e.jsxs("button",{onClick:b=>b.currentTarget.default(),children:["Meters"," ",e.jsxs("span",{className:"text-emphasis2",children:[(u=r==null?void 0:r.asts)!=null&&u.length?(j=r==null?void 0:r.asts)==null?void 0:j.length:0," "]})]})}),children:e.jsx(E,{})}),e.jsx(y,{sectionData:{sectionName:"property-type",formik:t},active:d,setActive:i,children:e.jsxs("div",{className:"form-row-wrapper",children:[e.jsxs("div",{className:"form-row",children:[e.jsx("div",{children:e.jsx(s,{control:"select",type:"text",label:"property type",name:"propertyType.type",options:C.propertyTypeOptions,placeholder:""})}),m==="show"?e.jsxs("div",{className:"row-50-50",children:[e.jsx(s,{control:"input",type:"text",label:"Unit Name",name:"propertyType.unitName",placeholder:""}),e.jsx(s,{control:"input",type:"text",label:"Unit No",name:"propertyType.unitNo",placeholder:""})]}):null]}),e.jsx("div",{className:"row-0 form-row",children:e.jsx(s,{control:"mediaButton",type:"button",label:"property type media",name:"media.propertyType",ml1:"asts"})})]})}),e.jsx(y,{sectionData:{sectionName:"customer-adr"},active:d,setActive:i,children:e.jsx("div",{className:"form-row-wrapper",children:e.jsxs("div",{className:"form-row",children:[e.jsx("div",{children:e.jsx(s,{readOnly:!0,control:"input",type:"text",label:"erf no",name:"erfNo",placeholder:""})}),e.jsx("div",{children:e.jsx(s,{control:"input",type:"text",label:"street address",name:"address.street",placeholder:""})}),e.jsxs("div",{className:"row-50-50",children:[e.jsx(s,{readOnly:!0,control:"input",type:"text",label:"suburd / tship",name:"address.suburbTownship",placeholder:""}),e.jsx(s,{readOnly:!0,control:"input",type:"text",label:"towm",name:"address.town",placeholder:""})]}),e.jsxs("div",{className:"row-50-50",children:[e.jsx(s,{readOnly:!0,control:"input",type:"text",label:"ml / metro",name:"address.lmMetro",placeholder:""}),e.jsx(s,{readOnly:!0,control:"input",type:"text",label:"dm",name:"address.dm",placeholder:""})]}),e.jsxs("div",{className:"row-50-50",children:[e.jsx(s,{readOnly:!0,control:"input",type:"text",label:"province",name:"address.province",placeholder:""}),e.jsx(s,{readOnly:!0,control:"input",type:"text",label:"country",name:"address.country",placeholder:""})]}),e.jsx("div",{children:e.jsx(s,{control:"rgcButton",type:"button",label:"erf system address",name:"address.systemAdr",placeholder:""})}),e.jsx("div",{children:e.jsx(s,{control:"mediaButton",type:"button",label:"customer adr media",name:"media.customerAdr",ml1:"asts"})})]})})}),e.jsx(M,{formik:t,signState:l})]})})}}),e.jsx(B,{geocoding:"erf"}),e.jsx(A,{data:{...n.data,irepsKeyItem:"erfs",displayMode:"popup"}})]})})};export{k as default};
