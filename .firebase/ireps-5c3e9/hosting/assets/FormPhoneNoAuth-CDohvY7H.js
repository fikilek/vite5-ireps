import{u as v,D as F,am as a,an as t,av as S,r as y,a9 as E,j as e,ab as l,ad as m,ae as q,af as O,ap as c,ah as o,aq as d,aj as u}from"./index-DTpsEHRa.js";import{u as w}from"./useSignup-CKx8Jwos.js";const T=h=>{const{user:n}=v(),{closeModal:i}=F();h.formData;const{signupWithPhoneNumber:p,signupWithPhoneOtp:x,signupState:s}=w(),j={newPhoneNumber:"+16505551122",phoneNumber:"+16505551122"},b=a({newPhoneNumber:t().required("phone number is required."),phoneNumber:t().required("phone number is required.")}),N=r=>{p(r)},f={otp:""},g=a({otp:S().required("otp is required.")}),P=r=>{console.log("Form otp values",r),x(r)};return y.useEffect(()=>{s.success&&(i(),E.success(`User email for "${n.displayName}", succesfully updated on iREPS`,{position:"bottom-left"}))},[s==null?void 0:s.success,i,n==null?void 0:n.displayName]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"form-wrapper",children:e.jsx("div",{className:"form-container edit-user-phoneNumber",children:e.jsx(l,{initialValues:j,onSubmit:N,validationSchema:b,children:r=>e.jsxs(e.Fragment,{children:[e.jsxs(m,{children:[e.jsx(q,{hl1:"Verifiy Cell No",hr1:e.jsx("p",{}),children:e.jsx(O,{})}),e.jsxs("div",{className:"phone-no",children:[e.jsx(c,{msg:"Click SUBMIT to send a pin to the phone number. (Edit the phone number if necessary)"}),e.jsxs("div",{className:"edit-email-form",children:[e.jsx(o,{control:"phoneNumberInput",type:"hidden",label:"Existing Phone Number",name:"phoneNumber",placeholder:"",hide:"hide"}),e.jsx(o,{control:"phoneNumberInput",type:"text",label:"Phone Number",name:"newPhoneNumber",placeholder:""})]}),s.error&&e.jsx(d,{errorMsg:s.error}),e.jsx(u,{formik:r,isPending:s.isPending})]})]}),e.jsx("div",{id:"recaptcha-container"})]})})})}),s.otpSent&&e.jsx("div",{className:"form-wrapper",children:e.jsx("div",{className:"form-container edit-user-email",children:e.jsx(l,{initialValues:f,onSubmit:P,validationSchema:g,children:r=>e.jsx(e.Fragment,{children:e.jsx(m,{children:e.jsxs("div",{className:"otp",children:[e.jsx(c,{msg:"OTP sent succesfully. Enter the pin number on the OTP fields below and submit."}),e.jsx("div",{className:"edit-email-form",children:e.jsx(o,{control:"input",type:"text",label:"One Time Pin",name:"otp",placeholder:""})}),s.error&&e.jsx(d,{errorMsg:s.error}),e.jsx(u,{formik:r,signState:s.isPending})]})})})})})})]})};export{T as default};
