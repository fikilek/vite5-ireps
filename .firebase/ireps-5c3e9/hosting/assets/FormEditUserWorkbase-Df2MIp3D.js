import{H as y,u as g,r as n,B as E,am as F,an as d,a9 as W,j as e,ab as q,ad as v,ae as D,af as S,ap as N,ah as i,aq as U,aj as C}from"./index-CTrsszhs.js";import{u as M}from"./useSignup-emKIb2qh.js";try{let r=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},s=new r.Error().stack;s&&(r._sentryDebugIds=r._sentryDebugIds||{},r._sentryDebugIds[s]="85a14428-b287-4587-93a0-4e706de94da4",r._sentryDebugIdIdentifier="sentry-dbid-85a14428-b287-4587-93a0-4e706de94da4")}catch{}const I=r=>{var p;const{response:s,getDocument:w}=y("users"),{user:l}=g(),{uid:c}=l,[a,f]=n.useState(null);let u=[{key:"choose",value:"choose"}];a!=null&&a.workbases&&((p=a==null?void 0:a.workbases)==null||p.map(o=>{u.push({key:o,value:o})}));const{closeModal:b}=E(),{formData:m}=r,{updateUserWorkbase:k,signupState:t}=M(),h={newWorkbase:m,workbase:m,password:""},x=o=>{k(o)},j=F({newWorkbase:d().required("Workbase is required."),workbase:d().required("Workbase is required."),password:d().required("Password is required.")});return n.useEffect(()=>{t.success&&(b(),W.success(`User workbase for "${l.displayName}", succesfully updated.`,{position:"bottom-left"}))},[t.success,b]),n.useEffect(()=>{s.success&&(s==null||s.document,f(s==null?void 0:s.document))},[s.success]),n.useEffect(()=>{w(c)},[c]),e.jsx("div",{className:"form-wrapper",children:e.jsx("div",{className:"form-container edit-user-workbase",children:e.jsx(q,{initialValues:h,onSubmit:x,validationSchema:j,children:o=>e.jsx(e.Fragment,{children:e.jsxs(v,{children:[e.jsx(D,{hl1:"Edit User Workbase",hr1:e.jsx("p",{}),children:e.jsx(S,{})}),e.jsx(N,{msg:"Enter the new workbase on the 'workbase' field below and submit."}),e.jsxs("div",{className:"edit-workbase-form",children:[e.jsx(i,{control:"input",type:"text",label:"Old Workbase",name:"workbase",placeholder:"",readOnly:!0}),e.jsx(i,{control:"select",type:"text",label:"New Workbase",name:"newWorkbase",placeholder:"",options:u}),e.jsx(i,{control:"inputPwd",type:"password",label:"Password",name:"password",placeholder:"",autoComplete:"user password"})]}),t.error&&e.jsx(U,{errorMsg:t.error}),e.jsx(C,{formik:o,signState:t})]})})})})})};export{I as default};
//# sourceMappingURL=FormEditUserWorkbase-Df2MIp3D.js.map
