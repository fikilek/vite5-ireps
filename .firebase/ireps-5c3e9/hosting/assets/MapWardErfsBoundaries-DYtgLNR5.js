import{s as x,r as n,bh as b,j as e,t as N,v as g}from"./index-CyIbrq5N.js";import{A as k,u as v}from"./useIrepsMap-E9da2_LW.js";import w from"./FormErf-BuG5jBVy.js";const C=t=>{const{erf:s}=t,o=x(),a=n.useMemo(()=>{var i,d,m,u;return{lat:(d=(i=s==null?void 0:s.address)==null?void 0:i.gps)==null?void 0:d.latitude,lng:(u=(m=s==null?void 0:s.address)==null?void 0:m.gps)==null?void 0:u.longitude}},[s]),r=s==null?void 0:s.asts,p=(r==null?void 0:r.length)||"",[f,h]=b(),[l,c]=n.useState(!1);return n.useCallback(()=>c(!0),[]),n.useEffect(()=>{o&&(o.panTo(a),o.setZoom(19))},[o,a]),e.jsx("div",{className:"map-marker-on-map",children:e.jsxs(N,{ref:f,position:a,zIndex:1e3,children:[p&&e.jsx("button",{className:"erf-asts",children:p}),e.jsx("button",{className:"erf-no-btn",children:e.jsx("span",{className:"erf-no",children:s.erfNo})}),l&&e.jsx(g,{anchor:h,onClose:()=>c(!1),onCloseClick:()=>c(!1),children:e.jsx("div",{children:e.jsx(w,{data:{data:s}})})})]})})},A=t=>{var d;const{ast:s}=t,o=s==null?void 0:s.erf,a=x(),r=n.useMemo(()=>{var m,u,j,M;return{lat:Number((u=(m=s==null?void 0:s.location)==null?void 0:m.gps)==null?void 0:u.lat),lng:Number((M=(j=s==null?void 0:s.location)==null?void 0:j.gps)==null?void 0:M.lng)}},[s]),[p,f]=b(),[h,l]=n.useState(!1);n.useEffect(()=>{if(a)return a.panTo(r),a.setZoom(19),()=>l(!1)},[a,r]),n.useCallback(()=>l(!0),[]);const{trns:c}=s,i=(c==null?void 0:c.length)||"";return e.jsxs("div",{className:"map-meter-on-map",children:[e.jsxs(N,{ref:p,position:r,children:[i&&e.jsx("button",{className:"ast-asts",children:i}),e.jsx("button",{className:"ast-no-btn",children:e.jsx("span",{className:"ast-no",children:(d=s==null?void 0:s.astData)==null?void 0:d.astNo})})]}),h&&e.jsx(g,{anchor:f,onClose:()=>l(!1),onCloseClick:()=>l(!1),children:e.jsx("div",{children:e.jsx(k,{data:{data:s}})})}),e.jsx(C,{erf:o})]})},I=()=>{const t=x(),{displayLMWardBoundaries:s,state:o}=v(),{lmWardBoundaries:a}=o;return n.useEffect(()=>{t&&s(t)},[t,a]),e.jsx("div",{className:"map-boundaries"})};export{I as M,A as a,C as b};
