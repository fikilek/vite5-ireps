import{y as p,u as h,am as x,an as r,ao as j,r as w,a9 as f,j as e,ab as g,ad as b,ae as N,af as F,ap as q,ah as a,aq as S,aj as y,ar as C,as as P,at as v}from"./index-CyIbrq5N.js";import{a as E}from"./index-BvZ7-miK.js";import{u as k}from"./useSignup-CZL5I36l.js";const A=()=>{const{getCustomError:t}=P(),{signup:l,signupState:o}=k(),{closeModal:n}=p(),{user:s}=h()||{},m={surname:"",name:"",password:"",confirmPassword:"",email:"",phoneNumber:"+27",workbase:"workbase"},c=i=>{console.log("Form values",i);const u=v(i);l(u)},d=x({surname:r().required("required."),name:r().required("required."),email:r().email("Email is NOT valid.").required("required."),password:r().min(6,"At least 6 characters").required("required."),confirmPassword:r().oneOf([j("password"),null],"must match").required("required."),phoneNumber:r().min(10,"At least 10 characters").required("required.")});return w.useEffect(()=>{o.success&&(n(),f.success(`User "${s==null?void 0:s.displayName}" successfully signed up with iREPS`,{position:"bottom-left"}))},[o.success,n,s==null?void 0:s.displayName]),e.jsx("div",{className:"form-wrapper",children:e.jsx("div",{className:"form-container signup",children:e.jsx(g,{initialValues:m,onSubmit:c,validationSchema:d,enableReinitialize:!0,children:i=>e.jsx(e.Fragment,{children:e.jsxs(b,{children:[e.jsx(N,{hl1:"Singup/Register",hr1:e.jsx("p",{}),children:e.jsx(F,{})}),e.jsx(q,{msg:"Complete the fields below so as to gain access to iREPS."}),e.jsxs("div",{className:"signup-form",children:[e.jsxs("div",{className:"form-row-2col",children:[e.jsx(a,{control:"input",type:"text",label:"Surname",name:"surname",placeholder:"",autoFocus:!0}),e.jsx(a,{control:"input",type:"text",label:"Name",name:"name",placeholder:""})]}),e.jsxs("div",{className:"form-row-2col",children:[e.jsx(a,{control:"inputPwd",type:"password",label:"Pwd",name:"password",placeholder:"",autoComplete:"user password"}),e.jsx(a,{control:"inputPwd",type:"password",label:"Confirm Pwd",name:"confirmPassword",placeholder:"",autoComplete:"Confirm password"})]}),e.jsx("div",{className:"form-row-1col",children:e.jsx(a,{control:"input",type:"email",label:"Email",name:"email",placeholder:""})}),e.jsx("div",{className:"form-row-1col phoneNumber",children:e.jsx(a,{control:"phoneNumberInput",type:"text",label:"Phone No",name:"phoneNumber",placeholder:""})})]}),o.error&&e.jsx(S,{errorMsg:t(o.error)}),e.jsx(y,{formik:i,signState:o,children:e.jsx(C,{icon:e.jsx(E,{}),title:"Signin",linkName:"signin"})})]})})})})})};export{A as default};
