import{r as f,a0 as P,N as $,J as S,an as F,ao as E,B as A,j as e,ac as k,ae as D,af as T,ag as I,ai as s,ay as h,ar as M,ak as R}from"./index-DsAPZw0f.js";try{let l=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},r=new l.Error().stack;r&&(l._sentryDebugIds=l._sentryDebugIds||{},l._sentryDebugIds[r]="208d2055-070d-4e57-921c-7a7c8f027b03",l._sentryDebugIdIdentifier="sentry-dbid-208d2055-070d-4e57-921c-7a7c8f027b03")}catch{}const z=l=>{const[r,v]=f.useState("main"),{serviceProviders:y,getSpDetails:x,getSpClients:b}=P(),{formData:N}=l,{addDocument:w,updateDocument:g,response:c}=$("serviceProviders"),{closeModal:u}=S(),C=n=>{const{id:p}=n;p?g(n,p):w(n)},O=F({registeredName:E().required("required.")});f.useEffect(()=>{c.success&&(u(),A.success("document succesfully added/updated",{position:"bottom-left"}))},[c.success,u]);const m=n=>{v(n.target.id)};return e.jsx("div",{className:"form-wrapper",children:e.jsx("div",{className:"form-container service-provider",children:e.jsx(k,{initialValues:N.data,onSubmit:C,validationSchema:O,enableReinitialize:!0,children:n=>{var j;const p=x((j=n==null?void 0:n.values)==null?void 0:j.companyName);let d=b(p);if(d==null?void 0:d.find(a=>{var i;return((i=a.key)==null?void 0:i.trim().toLowerCase())==="rste"})){const a=x("RSTE");d=b(a)}return e.jsxs(D,{children:[e.jsx(T,{hl1:"Service Provider",hr1:e.jsx("p",{}),children:e.jsx(I,{})}),e.jsx("div",{className:"form-body",children:e.jsxs("div",{className:"tabs",children:[e.jsxs("div",{className:"tabs-header",children:[e.jsxs("div",{className:"tabs-header-left",children:[e.jsx("button",{className:`tabs-btn ${r==="main"?"active":""}`,id:"main",onClick:m,type:"button",children:"Main"}),e.jsx("button",{className:`tabs-btn ${r==="clients"?"active":""}`,id:"clients",onClick:m,type:"button",children:"Clients"})]}),e.jsxs("div",{className:"tabs-header-right",children:[e.jsx("button",{className:`tabs-btn ${r==="otherOffices"?"active":""}`,id:"otherOffices",onClick:m,type:"button",children:"Other Offices"}),e.jsx("button",{className:`tabs-btn ${r==="stores"?"active":""}`,id:"stores",onClick:m,type:"button",children:"Stores"})]})]}),e.jsxs("div",{className:"tabs-body",children:[r==="main"&&e.jsxs("div",{className:"main body-display",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"row-50-50",children:[e.jsx(s,{control:"input",type:"text",label:"Registered Name",name:"registeredName"}),e.jsx(s,{control:"input",type:"text",label:"Trading Name",name:"tradingName"})]}),e.jsx("div",{children:e.jsx(s,{control:"input",type:"text",label:"Address",name:"mainOffice.address"})})]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"row-50-50",children:[e.jsx(s,{control:"input",type:"text",label:"Email Adr",name:"mainOffice.email",options:y.spOptions}),e.jsx(s,{control:"input",type:"text",label:"Office Landline No",name:"mainOffice.phone",options:d||"none"})]})}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"row-50-50",children:[e.jsx(s,{control:"input",type:"text",label:"Contact Person Surname",name:"contactPerson.surname"}),e.jsx(s,{control:"input",type:"text",label:"Contact Person Name",name:"contactPerson.name"})]}),e.jsxs("div",{className:"row-50-50",children:[e.jsx(s,{control:"input",type:"text",label:"Person Person Cell",name:"contactPerson.cellNo"}),e.jsx(s,{control:"input",type:"text",label:"Person Person Email",name:"contactPerson.emailAdr"})]})]}),e.jsx("div",{className:"form-row"})]}),r==="clients"&&e.jsx("div",{className:"clients body-display",children:e.jsx(h,{name:"clients",render:({insert:a,remove:i,push:t})=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"body-display-header",children:e.jsx("button",{className:"row-add-btn",type:"button",onClick:()=>t({name:"",address:"",email:"",phone:""}),children:"Add Client"})}),n.values.clients.map((q,o,B)=>e.jsx("div",{className:"row-wrapper",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"row-10-45-45",children:[e.jsx("button",{className:"row-remove-btn",type:"button",onClick:()=>(console.log("index",o),i(o)),children:"-"}),e.jsx(s,{control:"reactSelect",type:"text",label:"Name",name:`clients.${o}.name`}),e.jsx(s,{control:"input",type:"text",label:"Address",name:`clients.${o}.address`})]}),e.jsxs("div",{className:"row-50-50",children:[e.jsx(s,{control:"input",type:"text",label:"Email",name:`clients.${o}.email`}),e.jsx(s,{control:"input",type:"text",label:"Phone",name:`clients.${o}.phone`})," "]})," "]})},o))]})})}),r==="otherOffices"&&e.jsx("div",{className:"other-offices body-display",children:e.jsx(h,{name:"otherOffices",render:a=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"body-display-header",children:e.jsx("button",{className:"row-add-btn",type:"button",onClick:()=>a.unshift({name:"",address:"",email:"",phone:""}),children:"Add Other Office"})}),a.form.values.otherOffices.map((i,t)=>e.jsx("div",{className:"row-wrapper",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"row-10-45-45",children:[e.jsx("button",{className:"row-remove-btn",type:"button",onClick:()=>a.remove(t),children:"-"}),e.jsx(s,{control:"input",type:"text",label:"Name",name:`otherOffices.[${t}].name`}),e.jsx(s,{control:"input",type:"text",label:"Address",name:`otherOffices.[${t}].address`})]}),e.jsxs("div",{className:"row-50-50",children:[e.jsx(s,{control:"input",type:"text",label:"Email",name:`otherOffices.[${t}].email`}),e.jsx(s,{control:"input",type:"text",label:"Phone",name:`otherOffices.[${t}].phone`})]})]})},t))]})})}),r==="stores"&&e.jsx("div",{className:"stores body-display",children:e.jsx(h,{name:"stores",render:a=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"body-display-header",children:e.jsx("button",{className:"row-add-btn",type:"button",onClick:()=>a.unshift({name:"",address:"",email:"",phone:""}),children:"Add stores"})}),a.form.values.stores.map((i,t)=>e.jsx("div",{className:"row-wrapper",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"row-10-45-45",children:[e.jsx("button",{className:"row-remove-btn",type:"button",onClick:()=>a.remove(t),children:"-"}),e.jsx(s,{control:"input",type:"text",label:"Name",name:`stores.[${t}].name`,placeholder:""}),e.jsx(s,{control:"input",type:"text",label:"Address",name:`stores.[${t}].address`,placeholder:""})]}),e.jsxs("div",{className:"row-50-50",children:[e.jsx(s,{control:"input",type:"text",label:"Email",name:`stores.[${t}].email`,placeholder:""}),e.jsx(s,{control:"input",type:"text",label:"Phone",name:`stores.[${t}].phone`,placeholder:""})]})]})},t))]})})})]})]})}),c.error&&e.jsx(M,{errorMsg:c.error}),e.jsx(R,{formik:n,signState:c})]})}})})})};export{z as default};
//# sourceMappingURL=FormServiceProvider-CXHWZnc2.js.map
