import{B as p,u as h,am as b,an as a,ao as f,r as x,a9 as w,j as e,ab as g,ad as j,ae as y,af as N,ap as F,ah as o,aq as q,aj as S,ar as C,as as E,at as P}from"./index-CTrsszhs.js";import{a as v}from"./index-DnQIBZF5.js";import{u as k}from"./useSignup-emKIb2qh.js";try{let s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},i=new s.Error().stack;i&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[i]="cc5bb20d-61d4-4493-9a87-aa11ba58376b",s._sentryDebugIdIdentifier="sentry-dbid-cc5bb20d-61d4-4493-9a87-aa11ba58376b")}catch{}const D=()=>{const{getCustomError:s}=E(),{signup:i,signupState:n}=k(),{closeModal:l}=p(),{user:r}=h()||{},d={surname:"",name:"",password:"",confirmPassword:"",email:"",phoneNumber:"+27",workbase:"workbase"},c=t=>{console.log("Form values",t);const u=P(t);i(u)},m=b({surname:a().required("required."),name:a().required("required."),email:a().email("Email is NOT valid.").required("required."),password:a().min(6,"At least 6 characters").required("required."),confirmPassword:a().oneOf([f("password"),null],"must match").required("required."),phoneNumber:a().min(10,"At least 10 characters").required("required.")});return x.useEffect(()=>{n.success&&(l(),w.success(`User "${r==null?void 0:r.displayName}" successfully signed up with iREPS`,{position:"bottom-left"}))},[n.success,l,r==null?void 0:r.displayName]),e.jsx("div",{className:"form-wrapper",children:e.jsx("div",{className:"form-container signup",children:e.jsx(g,{initialValues:d,onSubmit:c,validationSchema:m,enableReinitialize:!0,children:t=>e.jsx(e.Fragment,{children:e.jsxs(j,{children:[e.jsx(y,{hl1:"Singup/Register",hr1:e.jsx("p",{}),children:e.jsx(N,{})}),e.jsx(F,{msg:"Complete the fields below so as to gain access to iREPS."}),e.jsxs("div",{className:"signup-form",children:[e.jsxs("div",{className:"form-row-2col",children:[e.jsx(o,{control:"input",type:"text",label:"Surname",name:"surname",placeholder:"",autoFocus:!0}),e.jsx(o,{control:"input",type:"text",label:"Name",name:"name",placeholder:""})]}),e.jsxs("div",{className:"form-row-2col",children:[e.jsx(o,{control:"inputPwd",type:"password",label:"Pwd",name:"password",placeholder:"",autoComplete:"user password"}),e.jsx(o,{control:"inputPwd",type:"password",label:"Confirm Pwd",name:"confirmPassword",placeholder:"",autoComplete:"Confirm password"})]}),e.jsx("div",{className:"form-row-1col",children:e.jsx(o,{control:"input",type:"email",label:"Email",name:"email",placeholder:""})}),e.jsx("div",{className:"form-row-1col phoneNumber",children:e.jsx(o,{control:"phoneNumberInput",type:"text",label:"Phone No",name:"phoneNumber",placeholder:""})})]}),n.error&&e.jsx(q,{errorMsg:s(n.error)}),e.jsx(S,{formik:t,signState:n,children:e.jsx(C,{icon:e.jsx(v,{}),title:"Signin",linkName:"signin"})})]})})})})})};export{D as default};
//# sourceMappingURL=FormSignup-BnAYXimY.js.map
