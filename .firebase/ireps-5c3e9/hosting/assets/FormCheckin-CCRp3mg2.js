import{B as y,r as n,H as g,a9 as N,j as e,ab as v,ac as w,ad as D,ae as S,af as M,ag as p,ah as r,ai as u,aj as F,ak as I,al as O}from"./index-Ckqn-BEY.js";try{let t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},s=new t.Error().stack;s&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[s]="745e6255-4552-4e4a-98b3-d6beb9106fae",t._sentryDebugIdIdentifier="sentry-dbid-745e6255-4552-4e4a-98b3-d6beb9106fae")}catch{}const C=t=>{var m;const{data:s,validationSchema:x}=t==null?void 0:t.data,{trnId:h}=s.metadata,{closeModal:j}=y(),[l,i]=n.useState(null),{response:o,setDocument:c}=g("trns"),[d,b]=n.useState((m=s==null?void 0:s.metadata)==null?void 0:m.trnState),f=n.useCallback(a=>{console.log("values",a),c({...a,metadata:{...a.metadata,trnState:d}},a.metadata.trnId)},[c,d]);return n.useEffect(()=>{o.success&&(j(),N("Transaction UPDATED successfully!",{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}))},[o]),s?e.jsx("div",{className:"form-wrapper",children:e.jsxs("div",{className:"form-container trn form-meter-audit",children:[e.jsx(v,{initialValues:s,onSubmit:f,validationSchema:x,validateOnMount:!0,children:a=>(w(a,b),e.jsx(D,{children:e.jsxs("div",{className:"trn-form",children:[e.jsx(S,{hl1:e.jsxs("span",{children:["Meter ",e.jsx("span",{className:"text-emphasis2",children:"Audit"})," Form"]}),hr2:e.jsxs("span",{children:["Meter:",e.jsx("span",{className:"text-emphasis2",children:a.values.astData.astNo})]}),children:e.jsx(M,{})}),e.jsx(p,{sectionData:{sectionName:"meterDescription",formik:a},active:l,setActive:i,children:e.jsxs("div",{className:"form-row-wrapper",children:[e.jsxs("div",{className:"row-1 form-row",children:[e.jsx("div",{className:"",children:e.jsx(r,{control:"inputBarcodeScan",type:"text",label:"Meter No",name:"astData.astNo"})}),e.jsx("div",{className:"",children:e.jsx(r,{control:"mediaButton",type:"button",label:"meter no media",name:"astData.media.astNo",ml1:"asts"})}),e.jsxs("div",{className:"row-50-50",children:[e.jsx(r,{control:"select",type:"text",label:"meter phase?",name:"astData.meter.phase",options:u.meterPhaseOptions}),e.jsx(r,{control:"select",type:"text",label:"meter type?",name:"astData.meter.type",options:u.meterTypeOptions})]}),e.jsx(r,{control:"input",type:"text",label:"manufacturer",name:"astData.astManufacturer"})]}),e.jsx("div",{className:"row-5 form-row",children:e.jsx(r,{control:"input",type:"text",label:"product name",name:"astData.astName"})})]})}),e.jsx(p,{sectionData:{sectionName:"meterLocation",formik:a},active:l,setActive:i,children:e.jsx("div",{className:"form-row-wrapper",children:e.jsxs("div",{className:"row-2 form-row",children:[e.jsx("div",{children:e.jsx(r,{control:"rgcButton",type:"button",label:"click for meter address",name:"location.address",placeholder:"Meter Address"})}),e.jsxs("div",{className:"row-50-50",children:[e.jsx(r,{readOnly:!0,control:"input",type:"text",label:"gps(lat)",name:"location.gps.lat"}),e.jsx(r,{readOnly:!0,control:"input",type:"text",label:"gps(lng)",name:"location.gps.lng"})]})]})})}),a.values.metadata.trnState==="submitted"?"":e.jsx(F,{formik:a,signState:o})]})}))}),e.jsx(I,{geocoding:"ast"}),e.jsx(O,{data:{...t.data,irepsKeyItem:"trns",displayMode:"popup",trnId:h}})]})}):e.jsx("p",{children:"wait"})};export{C as default};
//# sourceMappingURL=FormCheckin-CCRp3mg2.js.map
