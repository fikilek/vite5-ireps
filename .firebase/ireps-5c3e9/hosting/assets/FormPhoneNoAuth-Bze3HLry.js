import{u as P,B as v,am as t,an as d,av as F,r as w,a9 as S,j as e,ab as l,ad as c,ae as E,af as I,ap as m,ah as i,aq as u,aj as h}from"./index-Ckqn-BEY.js";import{u as q}from"./useSignup-C1mZNNUq.js";try{let r=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},o=new r.Error().stack;o&&(r._sentryDebugIds=r._sentryDebugIds||{},r._sentryDebugIds[o]="8a84e97a-f042-4931-8cf5-6746fda86d0d",r._sentryDebugIdIdentifier="sentry-dbid-8a84e97a-f042-4931-8cf5-6746fda86d0d")}catch{}const T=r=>{const{user:o}=P(),{closeModal:a}=v();r.formData;const{signupWithPhoneNumber:p,signupWithPhoneOtp:f,signupState:s}=q(),b={newPhoneNumber:"+16505551122",phoneNumber:"+16505551122"},x=t({newPhoneNumber:d().required("phone number is required."),phoneNumber:d().required("phone number is required.")}),j=n=>{p(n)},g={otp:""},N=t({otp:F().required("otp is required.")}),y=n=>{console.log("Form otp values",n),f(n)};return w.useEffect(()=>{s.success&&(a(),S.success(`User email for "${o.displayName}", succesfully updated on iREPS`,{position:"bottom-left"}))},[s==null?void 0:s.success,a,o==null?void 0:o.displayName]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"form-wrapper",children:e.jsx("div",{className:"form-container edit-user-phoneNumber",children:e.jsx(l,{initialValues:b,onSubmit:j,validationSchema:x,children:n=>e.jsxs(e.Fragment,{children:[e.jsxs(c,{children:[e.jsx(E,{hl1:"Verifiy Cell No",hr1:e.jsx("p",{}),children:e.jsx(I,{})}),e.jsxs("div",{className:"phone-no",children:[e.jsx(m,{msg:"Click SUBMIT to send a pin to the phone number. (Edit the phone number if necessary)"}),e.jsxs("div",{className:"edit-email-form",children:[e.jsx(i,{control:"phoneNumberInput",type:"hidden",label:"Existing Phone Number",name:"phoneNumber",placeholder:"",hide:"hide"}),e.jsx(i,{control:"phoneNumberInput",type:"text",label:"Phone Number",name:"newPhoneNumber",placeholder:""})]}),s.error&&e.jsx(u,{errorMsg:s.error}),e.jsx(h,{formik:n,isPending:s.isPending})]})]}),e.jsx("div",{id:"recaptcha-container"})]})})})}),s.otpSent&&e.jsx("div",{className:"form-wrapper",children:e.jsx("div",{className:"form-container edit-user-email",children:e.jsx(l,{initialValues:g,onSubmit:y,validationSchema:N,children:n=>e.jsx(e.Fragment,{children:e.jsx(c,{children:e.jsxs("div",{className:"otp",children:[e.jsx(m,{msg:"OTP sent succesfully. Enter the pin number on the OTP fields below and submit."}),e.jsx("div",{className:"edit-email-form",children:e.jsx(i,{control:"input",type:"text",label:"One Time Pin",name:"otp",placeholder:""})}),s.error&&e.jsx(u,{errorMsg:s.error}),e.jsx(h,{formik:n,signState:s.isPending})]})})})})})})]})};export{T as default};
//# sourceMappingURL=FormPhoneNoAuth-Bze3HLry.js.map
