import{r as a,j as e,E as p,u as j,a as w}from"./index-DJBUruBi.js";import{u as m}from"./useErfs-wPZoXmmT.js";import{u as g}from"./useAsts-C6QqbCC6.js";import{M as v,C as R,A as y,T as C}from"./ag-theme-quartz-V47p7KAO.js";import{u as d,w as E}from"./xlsx-BTXN1Osa.js";import{P as u}from"./PageTitle-C9P2O3wh.js";import"./useTrns--RdyhEoN.js";try{let s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new s.Error().stack;t&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[t]="95fe4748-efd6-429f-9da4-719d256c6273",s._sentryDebugIdIdentifier="sentry-dbid-95fe4748-efd6-429f-9da4-719d256c6273")}catch{}v.registerModules([R]);const D=s=>{const{rowData:t,colDefs:r,tableRef:o}=s,n=a.useMemo(()=>({sortable:!0,filter:!0,resizable:!0,floatingFilter:!0,suppressMovable:!0}),[]),l=i=>i.data.id;return e.jsx("div",{className:"ag-theme-quartz table table-erfs",children:e.jsx(y,{rowData:t,columnDefs:r,defaultColDef:n,pagination:!0,noRowsOverlayComponent:C,getRowId:l,reactiveCustomComponents:!0,ref:o})})},N=s=>{const{tableRef:t}=s,{erfsContext:r}=a.useContext(p);return e.jsx("div",{className:"erfs-table",children:e.jsx(D,{rowData:r.erfs,colDefs:r.erfsTableFields,tableRef:t})})},T=s=>{const{tableRef:t}=s,{erfsContext:r}=a.useContext(p);return e.jsx("div",{className:"erfs-main",children:r.activeTab==="table"&&e.jsx(N,{tableRef:t})})},_=s=>{const{phLl:t,tableRef:r}=s,{user:o}=j(),{createExportRowData:n}=m(),{userFromUsers:l}=w(o==null?void 0:o.uid),i=()=>{var f;const{rowData:x}=(f=r==null?void 0:r.current)==null?void 0:f.props,b=n(x),c=d.book_new(),h=d.json_to_sheet(b);d.book_append_sheet(c,h,"erfs"),E(c,"Report.xlsx")};return e.jsxs("div",{className:"erfs-header",children:[e.jsx("div",{className:"ph ph-left",children:e.jsxs("div",{className:"phLl",children:[e.jsx(u,{title:t}),e.jsx(u,{title:l.workbase})]})}),e.jsxs("div",{className:"ph ph-right",children:[e.jsx("div",{className:"phRl"}),e.jsx("div",{className:"phRr",children:e.jsx("button",{onClick:i,children:"Export"})})]})]})},z=()=>{const s=a.useRef();return m(),g(),e.jsxs("div",{className:"erfs",children:[e.jsx(_,{phLl:"Erfs",tableRef:s}),e.jsx("div",{className:"erfs-body",children:e.jsx(T,{tableRef:s})})]})};export{z as default};
//# sourceMappingURL=Erfs-EocYkjPN.js.map
