import{H as F,u as S,r as l,B as $,bL as g,am as E,a9 as M,j as e,ab as C,ad as I,ae as D,af as N,ap as _,ax as B,S as U,bM as z,I as V,bN as A,aq as O,aj as R}from"./index-Ckqn-BEY.js";import{u as T}from"./useSignup-C1mZNNUq.js";try{let a=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},o=new a.Error().stack;o&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[o]="ee53ebff-bbd7-40d0-8e47-ddc9a4d4c622",a._sentryDebugIdIdentifier="sentry-dbid-ee53ebff-bbd7-40d0-8e47-ddc9a4d4c622")}catch{}const H=a=>{var m;const{response:o,getDocument:x}=F("users");S();const{uid:d}=(m=a==null?void 0:a.data)==null?void 0:m.data,[r,w]=l.useState({}),{closeModal:u}=$(),{updateUserObject:j,signupState:t}=T(),b=[];g&&g.forEach(s=>{b.push({label:s.lm,value:s.lm,data:s})});const k={workbases:r==null?void 0:r.workbases},p=s=>{j(s,d)};E({}),l.useEffect(()=>{t.success&&(u(),M.success(`User workbases for "${r.surname} ${r.name}", succesfully updated.`,{position:"bottom-left"}))},[t.success,u]),l.useEffect(()=>{o.success&&w(o.document)},[o]),l.useEffect(()=>{x(d)},[d]);const y=s=>(console.log("clearing selected value",s),null),v={control:s=>({...s,backgroundColor:"lightgray",padding:"0.11rem"}),option:(s,n)=>({...s,borderBottom:"1px dotted pink",color:n.isSelected?"white":"black",backgroundColor:n.isSelected?"hotpink":"white"})};return e.jsx("div",{className:"form-wrapper",children:e.jsx("div",{className:"form-container form-workbases",children:e.jsx(C,{initialValues:k,onSubmit:p,enableReinitialize:!0,children:s=>e.jsx(e.Fragment,{children:e.jsxs(I,{children:[e.jsx(D,{hl1:`${r.surname} ${r.name} workbases`,hr1:e.jsx("p",{children:r.workbase}),children:e.jsx(N,{})}),e.jsx(_,{msg:`Update user workbases allowed for the user: ${r.surname} ${r.name}`}),e.jsx("div",{className:"possible-workbases",children:e.jsx(B,{name:"workbases",render:n=>{var f,h;return e.jsxs("div",{className:"workbase-wrapper",children:[e.jsx(U,{defaultValue:"workbase",options:b,onChange:c=>{console.log("selection",c),n.push(c.value)},clearValue:y,styles:v}),((f=s.values)==null?void 0:f.workbases)&&((h=s.values)==null?void 0:h.workbases.map((c,i)=>e.jsxs("div",{className:"workbase-field",children:[e.jsx(z,{name:`workbases.${i}`}),e.jsx("button",{type:"button",onClick:()=>n.remove(i),children:e.jsx(V.Provider,{value:{color:"blue",fontSize:"2rem"},children:e.jsx(A,{})})})]},i)))]})}})}),t.error&&e.jsx(O,{errorMsg:t.error}),e.jsx(R,{formik:s,signState:t})]})})})})})};export{H as default};
//# sourceMappingURL=FormWorkbases-BPUFkF0r.js.map
