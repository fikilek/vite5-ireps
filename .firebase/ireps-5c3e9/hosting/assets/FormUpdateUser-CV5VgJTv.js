import{X as q,D as v,am as k,an as r,r as y,a9 as C,j as e,ab as w,ad as E,ae as U,af as M,ap as P,ah as i,aq as R,aj as $,as as D,at as B}from"./index-BjVKhCAv.js";import{u as L}from"./useSignup-P4ig9JK2.js";const I=u=>{const{surname:t,name:o,nickName:l,companyName:d,workbase:p}=u.formData,{serviceProviders:V,getSpClients:x,getSpDetailsFromSpName:j,getSpClientsFromName:f}=q(),{getCustomError:h}=D(),{updateUser:S,signupState:s}=L(),{closeModal:c}=v(),F=a=>{const n=B(a);S(n)},g=k({surname:r().required("Surname is required."),name:r().required("required."),nickName:r().required("required."),companyName:r().ensure().required("Company name is required."),workbase:r().required("Workbase is required")});return y.useEffect(()=>{s.success&&(c(),C.success(`User "${t} ${o}" succesfully updated on iREPS`,{position:"bottom-left"}))},[s.success,c,t,o]),e.jsx("div",{className:"form-wrapper",children:e.jsx("div",{className:"form-container update-user",children:e.jsx(w,{initialValues:{surname:t,name:o,nickName:l,companyName:d,workbase:p},onSubmit:F,validationSchema:g,children:a=>{const n=j(a.values.companyName);let m=x(n);return m.find(N=>{const b=N.key.toLowerCase().trim();return new RegExp("rste","gi").test(b)})&&(m=f("rste")),e.jsx(e.Fragment,{children:e.jsxs(E,{children:[e.jsx(U,{hl1:"Update User Info",hr1:e.jsx("p",{}),children:e.jsx(M,{})}),e.jsx(P,{msg:"Complete the fields below and submit to update user info on iREPS."}),e.jsx("div",{className:"updateuser-form",children:e.jsxs("div",{className:"form-row",children:[e.jsx(i,{control:"input",type:"text",label:"Surname",name:"surname",placeholder:"",autoFocus:!0}),e.jsx(i,{control:"input",type:"text",label:"Name",name:"name",placeholder:""}),e.jsx(i,{control:"input",type:"text",label:"Aka",name:"nickName",placeholder:""})]})}),s.error&&e.jsx(R,{errorMsg:h(s.error)}),e.jsx($,{formik:a,signState:s})]})})}})})})};export{I as default};
